<!DOCTYPE html>
<!--[if IE 8]>
<html id="ie8" dir="ltr" lang="zh-CN"
	prefix="og: https://ogp.me/ns#" >
<![endif]-->
<!--[if !(IE 8) ]><!-->
<html dir="ltr" lang="zh-CN" prefix="og: https://ogp.me/ns#">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<link rel="profile" href="https://gmpg.org/xfn/11" />
<link rel="pingback" href="https://coolshell.cn/xmlrpc.php" />
<link rel="shortcut icon" href="/favicon.png">
<title>Linus：利用二级指针删除单向链表 | 酷 壳 - CoolShell</title>

<meta name="robots" content="max-image-preview:large" />
<meta name="keywords" content="c++,coding,kernel,linus torvalds,linux,c/c++语言,unix/linux" />
<link rel="canonical" href="/articles/8990.html" />
<meta name="generator" content="All in One SEO (AIOSEO) 4.3.6.1 " />
<meta property="og:locale" content="zh_CN" />
<meta property="og:site_name" content="酷 壳 - CoolShell" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Linus：利用二级指针删除单向链表 | 酷 壳 - CoolShell" />
<meta property="og:url" content="/articles/8990.html" />
<meta property="og:image" content="/wp-content/uploads/2013/02/linus_pointer_to_pointer.jpg" />
<meta property="og:image:secure_url" content="/wp-content/uploads/2013/02/linus_pointer_to_pointer.jpg" />
<meta property="og:image:width" content="479" />
<meta property="og:image:height" content="470" />
<meta property="article:published_time" content="2013-02-04T00:33:20+00:00" />
<meta property="article:modified_time" content="2013-02-04T07:12:58+00:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Linus：利用二级指针删除单向链表 | 酷 壳 - CoolShell" />
<meta name="twitter:image" content="/wp-content/uploads/2013/02/linus_pointer_to_pointer.jpg" />
<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/coolshell.cn\/articles\/8990.html#article","name":"Linus\uff1a\u5229\u7528\u4e8c\u7ea7\u6307\u9488\u5220\u9664\u5355\u5411\u94fe\u8868 | \u9177 \u58f3 - CoolShell","headline":"Linus\uff1a\u5229\u7528\u4e8c\u7ea7\u6307\u9488\u5220\u9664\u5355\u5411\u94fe\u8868","author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"publisher":{"@id":"https:\/\/coolshell.cn\/#organization"},"image":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2013\/02\/linus_pointer_to_pointer.jpg","@id":"https:\/\/coolshell.cn\/#articleImage","width":479,"height":470},"datePublished":"2013-02-04T00:33:20+08:00","dateModified":"2013-02-04T07:12:58+08:00","inLanguage":"zh-CN","commentCount":194,"mainEntityOfPage":{"@id":"https:\/\/coolshell.cn\/articles\/8990.html#webpage"},"isPartOf":{"@id":"https:\/\/coolshell.cn\/articles\/8990.html#webpage"},"articleSection":"C\/C++\u8bed\u8a00, Unix\/Linux, C++, Coding, Kernel, Linus Torvalds, Linux"},{"@type":"BreadcrumbList","@id":"https:\/\/coolshell.cn\/articles\/8990.html#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/coolshell.cn\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/","name":"\u4e3b\u9801","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 \u2013 https:\/\/coolshell.cn","url":"https:\/\/coolshell.cn\/"}}]},{"@type":"Organization","@id":"https:\/\/coolshell.cn\/#organization","name":"\u9177\u58f3-CoolShell","url":"https:\/\/coolshell.cn\/","logo":{"@type":"ImageObject","url":"https:\/\/coolshell.cn\/wp-content\/uploads\/2020\/04\/mini.logo_.png","@id":"https:\/\/coolshell.cn\/#organizationLogo","width":306,"height":306},"image":{"@id":"https:\/\/coolshell.cn\/#organizationLogo"}},{"@type":"Person","@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author","url":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull","name":"Leo","image":{"@type":"ImageObject","@id":"https:\/\/coolshell.cn\/articles\/8990.html#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/a6e9e679d4d308a570b1e74705c026de?s=96&d=mm&r=g","width":96,"height":96,"caption":"Leo"}},{"@type":"WebPage","@id":"https:\/\/coolshell.cn\/articles\/8990.html#webpage","url":"https:\/\/coolshell.cn\/articles\/8990.html","name":"Linus\uff1a\u5229\u7528\u4e8c\u7ea7\u6307\u9488\u5220\u9664\u5355\u5411\u94fe\u8868 | \u9177 \u58f3 - CoolShell","inLanguage":"zh-CN","isPartOf":{"@id":"https:\/\/coolshell.cn\/#website"},"breadcrumb":{"@id":"https:\/\/coolshell.cn\/articles\/8990.html#breadcrumblist"},"author":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"creator":{"@id":"https:\/\/coolshell.cn\/articles\/author\/full_of_bull#author"},"datePublished":"2013-02-04T00:33:20+08:00","dateModified":"2013-02-04T07:12:58+08:00"},{"@type":"WebSite","@id":"https:\/\/coolshell.cn\/#website","url":"https:\/\/coolshell.cn\/","name":"\u9177 \u58f3 - CoolShell","description":"\u4eab\u53d7\u7f16\u7a0b\u548c\u6280\u672f\u6240\u5e26\u6765\u7684\u5feb\u4e50 - Coding Your Ambition","inLanguage":"zh-CN","publisher":{"@id":"https:\/\/coolshell.cn\/#organization"}}]}
		</script>
<script type="5f1174d32b2de811aceb048f-text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-7486123-1", { 'cookieDomain': 'coolshell.cn' } );
			ga('send', 'pageview');
		</script>
<script async src="https://www.google-analytics.com/analytics.js" type="5f1174d32b2de811aceb048f-text/javascript"></script>

<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; Feed" href="https://coolshell.cn/feed" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; 评论Feed" href="https://coolshell.cn/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="酷 壳 - CoolShell &raquo; Linus：利用二级指针删除单向链表评论Feed" href="/articles/8990.html/feed" />
<script type="5f1174d32b2de811aceb048f-text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/coolshell.cn\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.2"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="series_font-css" href="/wp-content/plugins/simple-post-series/inc/icomoon/style.css?ver=2.4" type="text/css" media="all" />
<link rel="stylesheet" id="wp-block-library-css" href="/wp-content/plugins/gutenberg/build/block-library/style.css?ver=15.7.0" type="text/css" media="all" />
<link rel="stylesheet" id="classic-theme-styles-css" href="/wp-includes/css/classic-themes.min.css?ver=6.2" type="text/css" media="all" />
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
</style>
<link rel="stylesheet" id="wp-postratings-css" href="/wp-content/plugins/wp-postratings/css/postratings-css.css?ver=1.90.1" type="text/css" media="all" />
<link rel="stylesheet" id="wp-pagenavi-css" href="/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70" type="text/css" media="all" />
<link rel="stylesheet" id="ez-toc-css" href="/wp-content/plugins/easy-table-of-contents/assets/css/screen.min.css?ver=2.0.48" type="text/css" media="all" />
<style id="ez-toc-inline-css" type="text/css">
div#ez-toc-container p.ez-toc-title {font-size: 120%;}div#ez-toc-container p.ez-toc-title {font-weight: 500;}div#ez-toc-container ul li {font-size: 95%;}div#ez-toc-container nav ul ul li ul li {font-size: %!important;}
.ez-toc-container-direction {direction: ltr;}.ez-toc-counter ul{counter-reset: item;}.ez-toc-counter nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}.ez-toc-widget-direction {direction: ltr;}.ez-toc-widget-container ul{counter-reset: item;}.ez-toc-widget-container nav ul li a::before {content: counters(item, ".", decimal) ". ";display: inline-block;counter-increment: item;flex-grow: 0;flex-shrink: 0;margin-right: .2em; float: left;}
</style>
<link rel="stylesheet" id="bootstrap-css" href="/wp-content/themes/MyNisarg/css/bootstrap.css?ver=6.2" type="text/css" media="all" />
<link rel="stylesheet" id="nisarg-style-css" href="/wp-content/themes/MyNisarg/style.css?ver=6.2" type="text/css" media="all" />
<style id="nisarg-style-inline-css" type="text/css">
	/* Color Scheme */

	/* Accent Color */

	a:active,
	a:hover,
	a:focus {
	    color: #009688;
	}

	.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
		color: #009688;
	}

	
	.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
		color: #009688;			
	}

	@media (min-width: 768px){
		.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
			border-top: 4px solid #009688;
		}		
	}

	.dropdown-menu > .active > a, .dropdown-menu > .active > a:hover, .dropdown-menu > .active > a:focus {	    
	    background-color: #009688;
	}


	.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
		color: #009688;
	}

	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:hover,
	.navbar-default .navbar-nav > li > .dropdown-menu > li > a:focus {
		color: #fff;
		background-color: #009688;
	}

	.navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
		background-color: #fff;
		color: #009688;
	}

	@media (max-width: 767px) {
		.navbar-default .navbar-nav .open .dropdown-menu > li > a:hover {
			background-color: #009688;
			color: #fff;
		}
	}

	.sticky-post{
	    background: #009688;
	    color:white;
	}
	
	.entry-title a:hover,
	.entry-title a:focus{
	    color: #009688;
	}

	.entry-header .entry-meta::after{
	    background: #009688;
	}

	.fa {
		color: #009688;
	}

	.btn-default{
		border-bottom: 1px solid #009688;
	}

	.btn-default:hover, .btn-default:focus{
	    border-bottom: 1px solid #009688;
	    background-color: #009688;
	}

	.nav-previous:hover, .nav-next:hover{
	    border: 1px solid #009688;
	    background-color: #009688;
	}

	.next-post a:hover,.prev-post a:hover{
	    color: #009688;
	}

	.posts-navigation .next-post a:hover .fa, .posts-navigation .prev-post a:hover .fa{
	    color: #009688;
	}


	#secondary .widget-title::after{
		background-color: #009688;
	    content: "";
	    position: absolute;
	    width: 75px;
	    display: block;
	    height: 4px;    
	    bottom: -15px;
	}

	#secondary .widget a:hover,
	#secondary .widget a:focus{
		color: #009688;
	}

	#secondary .widget_calendar tbody a {
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}

	#secondary .widget_calendar tbody a:hover{
	    background-color: #009688;
	    color: #fff;
	    padding: 0.2em;
	}	

</style>
<link rel="stylesheet" id="font-awesome-css" href="/wp-content/themes/MyNisarg/font-awesome/css/font-awesome.min.css?ver=6.2" type="text/css" media="all" />
<link rel="stylesheet" id="nisarggooglefonts-css" href="//fonts.googleapis.com/css?family=Lato:400,300italic,700|Source+Sans+Pro:400,400italic" type="text/css" media="all" />
<link rel="stylesheet" id="enlighterjs-css" href="/wp-content/plugins/enlighter/cache/enlighterjs.min.css?ver=0cuVQBPCj0viGB0" type="text/css" media="all" />
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.6.3" id="jquery-core-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.0" id="jquery-migrate-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/simple-post-series/autohide.js?ver=2.4" id="series-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" id="ez-toc-scroll-scriptjs-js-after">
jQuery(document).ready(function(){document.querySelectorAll(".ez-toc-section").forEach(t=>{t.setAttribute("ez-toc-data-id","#"+decodeURI(t.getAttribute("id")))}),jQuery("a.ez-toc-link").click(function(){let t=jQuery(this).attr("href"),e=jQuery("#wpadminbar"),i=0;30>30&&(i=30),e.length&&(i+=e.height()),jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').length>0&&(i=jQuery('[ez-toc-data-id="'+decodeURI(t)+'"]').offset().top-i),jQuery("html, body").animate({scrollTop:i},500)})});
</script>
<!--[if lt IE 9]>
<script type='text/javascript' src='/wp-content/themes/MyNisarg/js/html5shiv.js?ver=3.7.3' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="https://coolshell.cn/wp-json/" /><link rel="alternate" type="application/json" href="https://coolshell.cn/wp-json/wp/v2/posts/8990" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://coolshell.cn/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" />
<meta name="generator" content="WordPress 6.2" />
<link rel="shortlink" href="https://coolshell.cn/?p=8990" />
<link rel="alternate" type="application/json+oembed" href="https://coolshell.cn/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcoolshell.cn%2Farticles%2F8990.html" />
<link rel="alternate" type="text/xml+oembed" href="https://coolshell.cn/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcoolshell.cn%2Farticles%2F8990.html&#038;format=xml" />
<script type="5f1174d32b2de811aceb048f-text/javascript">
	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "https://coolshell.cn/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6.4';
	window._wp_rp_post_id = '8990';
	window._wp_rp_num_rel_posts = '6';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = 'Linus%EF%BC%9A%E5%88%A9%E7%94%A8%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E5%88%A0%E9%99%A4%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8';
	window._wp_rp_post_tags = ['linus+torvalds', 'coding', 'linux', 'kernel', 'c%2B%2B', 'unix%2Flinux', 'c%2Fc%2B%2B%E8%AF%AD%E8%A8%80', 'big', 'travers', 'core', 'linu', 'list', 'small', 'spectrum', 'pointer', 'thought', 'entri', 'pride', 'peopl', 'code', 'person', 'a'];
	window._wp_rp_promoted_content = true;
</script>
<link rel="stylesheet" href="/wp-content/plugins/wordpress-23-related-posts-plugin/static/themes/vertical-m.css?version=3.6.4" />
<style type="text/css">
        .site-header { background: #1d2b2d; }
</style>
</head>
<body class="post-template-default single single-post postid-8990 single-format-standard group-blog">
<link rel="stylesheet" id="nisarg-style-css" href="/wp-content/themes/MyNisarg/style.css" type="text/css" media="all">
<div id="page" class="hfeed site">
<header id="masthead" role="banner">
<nav class="navbar navbar-default navbar-fixed-top navbar-left" role="navigation">

<div class="container" id="navigation_menu">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
<span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="https://coolshell.cn/"><div class="coolshell_logo"></div>酷 壳 &#8211; CoolShell</a>
</div>
<div class="collapse navbar-collapse navbar-ex1-collapse"><ul id="menu-coolshell" class="nav navbar-nav"><li id="menu-item-17405" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-17405"><a title="首页" href="https://coolshell.cn/">首页</a></li>
<li id="menu-item-17406" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17406"><a title="推荐文章" href="/featured.html">推荐文章</a></li>
<li id="menu-item-17407" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17407"><a title="本站插件" href="https://coolshell.cn/plugins">本站插件</a></li>
<li id="menu-item-17408" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17408"><a title="留言小本" href="https://coolshell.cn/guestbook">留言小本</a></li>
<li id="menu-item-17409" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17409"><a title="关于酷壳" href="https://coolshell.cn/about">关于酷壳</a></li>
<li id="menu-item-17410" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17410"><a title="关于陈皓" href="https://coolshell.cn/haoel">关于陈皓</a></li>
<li id="menu-item-17582" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17582"><a title="RSS" href="https://coolshell.cn/feed">RSS</a></li>
</ul></div>
</div>
</nav>
<div id="cc_spacer"></div>
<div class="site-header">
<div class="pull-right">
<a title="把这个链接拖到你的Chrome收藏夹工具栏中" href="javascript:(function(){function c(){var e=document.createElement(&quot;link&quot;);e.setAttribute(&quot;type&quot;,&quot;text/css&quot;);e.setAttribute(&quot;rel&quot;,&quot;stylesheet&quot;);e.setAttribute(&quot;href&quot;,f);e.setAttribute(&quot;class&quot;,l);document.body.appendChild(e)}function h(){var e=document.getElementsByClassName(l);for(var t=0;t<e.length;t++){document.body.removeChild(e[t])}}function p(){var e=document.createElement(&quot;div&quot;);e.setAttribute(&quot;class&quot;,a);document.body.appendChild(e);setTimeout(function(){document.body.removeChild(e)},100)}function d(e){return{height:e.offsetHeight,width:e.offsetWidth}}function v(i){var s=d(i);return s.height>e&&s.height<n&&s.width>t&&s.width<r}function m(e){var t=e;var n=0;while(!!t){n+=t.offsetTop;t=t.offsetParent}return n}function g(){var e=document.documentElement;if(!!window.innerWidth){return window.innerHeight}else if(e&&!isNaN(e.clientHeight)){return e.clientHeight}return 0}function y(){if(window.pageYOffset){return window.pageYOffset}return Math.max(document.documentElement.scrollTop,document.body.scrollTop)}function E(e){var t=m(e);return t>=w&&t<=b+w}function S(){var e=document.createElement(&quot;audio&quot;);e.setAttribute(&quot;class&quot;,l);e.src=i;e.loop=false;e.addEventListener(&quot;canplay&quot;,function(){setTimeout(function(){x(k)},500);setTimeout(function(){N();p();for(var e=0;e<O.length;e++){T(O[e])}},15500)},true);e.addEventListener(&quot;ended&quot;,function(){N();h()},true);e.innerHTML=&quot; <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>&quot;;document.body.appendChild(e);e.play()}function x(e){e.className+=&quot; &quot;+s+&quot; &quot;+o}function T(e){e.className+=&quot; &quot;+s+&quot; &quot;+u[Math.floor(Math.random()*u.length)]}function N(){var e=document.getElementsByClassName(s);var t=new RegExp(&quot;\\b&quot;+s+&quot;\\b&quot;);for(var n=0;n<e.length;){e[n].className=e[n].className.replace(t,&quot;&quot;)}}var e=30;var t=30;var n=350;var r=350;var i=&quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3&quot;;var s=&quot;mw-harlem_shake_me&quot;;var o=&quot;im_first&quot;;var u=[&quot;im_drunk&quot;,&quot;im_baked&quot;,&quot;im_trippin&quot;,&quot;im_blown&quot;];var a=&quot;mw-strobe_light&quot;;var f=&quot;//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css&quot;;var l=&quot;mw_added_css&quot;;var b=g();var w=y();var C=document.getElementsByTagName(&quot;*&quot;);var k=null;for(var L=0;L<C.length;L++){var A=C[L];if(v(A)){if(E(A)){k=A;break}}}if(A===null){console.warn(&quot;Could not find a node of the right size. Please try a different page.&quot;);return}c();S();var O=[];for(var L=0;L<C.length;L++){var A=C[L];if(v(A)){O.push(A)}}})()    ">High一下!</a>
</div>
<div class="site-branding">
<a class="home-link" href="https://coolshell.cn/" title="酷 壳 &#8211; CoolShell" rel="home">
<h1 class="site-title">酷 壳 &#8211; CoolShell</h1>
<h2 class="site-description">享受编程和技术所带来的快乐 &#8211; Coding Your Ambition</h2>
</a>
</div>
</div>
</header>
<div class="container">
<div class="row">
<div class="col-md-9 nav-searchbox hidden-lg hidden-md visible-sm-* visible-xs-*">
<form role="search" method="get" class="search-form" action="https://coolshell.cn/">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search …" value name="s" title="Search for:">
</label>
<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</div>
</div>
</div>
<div id="content" class="site-content">
<div class="container">
<div class="row">
<div id="primary" class="col-md-9 content-area">
<main id="main" role="main">
<article id="post-8990" class="post-content post-8990 post type-post status-publish format-standard hentry category-cplusplus category-unixlinux tag-c tag-coding tag-kernel tag-linus-torvalds tag-linux">
<header class="entry-header">
<span class="screen-reader-text">Linus：利用二级指针删除单向链表</span>
<h1 class="entry-title">Linus：利用二级指针删除单向链表</h1>
<div class="entry-meta">
<h5 class="entry-date"><i class="fa fa-calendar-o"></i> <a href="/articles/8990.html" title="08:33" rel="bookmark"><time class="entry-date" datetime="2013-02-04T08:33:20+08:00" pubdate>2013年02月04日 </time></a><span class="byline"><span class="sep"></span><i class="fa fa-user"></i>
<span class="author vcard"><a class="url fn n" href="/articles/author/full_of_bull" title="View all posts by Leo" rel="author">Leo</a></span></span> <i class="fa fa-comments-o"></i><span class="screen-reader-text">评论 </span> <a href="/articles/8990.html#comments" class="comments-link">194 条评论</a> <i class="fa fa-users" style="margin-left:10px;"></i> 114,140 人阅读</h5>
</div>
</header>
<div class="entry-content">
<p><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3415450859608158" crossorigin="anonymous" type="5f1174d32b2de811aceb048f-text/javascript"></script><strong>感谢网友full_of_bull投递此文</strong>（注：此文最初发表在这个<a href="http://www.oldlinux.org/oldlinux/viewthread.php?tid=14575&amp;extra=page%3D1" target="_blank">这里</a>，我对原文后半段修改了许多，并加入了插图）</p>
<p>Linus大婶在<a href="http://meta.slashdot.org/story/12/10/11/0030249/linus-torvalds-answers-your-questions" target="_blank">slashdot</a>上回答一些编程爱好者的提问，其中一个人问他什么样的代码是他所喜好的，大婶表述了自己一些观点之后，举了一个指针的例子，解释了什么才是<strong>core low-level coding</strong>。</p>
<p>下面是Linus的教学原文及翻译——</p>
<p style="padding-left: 30px;">“At the opposite end of the spectrum, I actually wish more people understood the really core low-level kind of coding. Not big, complex stuff like the lockless name lookup, but simply good use of pointers-to-pointers etc. For example, I&#8217;ve seen too many people who delete a singly-linked list entry by keeping track of the &#8220;prev&#8221; entry, and then to delete the entry, doing something like。（在这段话的最后，我实际上希望更多的人了解什么是真正的核心底层代码。这并不像无锁文件名查询（注：可能是git源码里的设计）那样庞大、复杂，只是仅仅像诸如使用二级指针那样简单的技术。例如，我见过很多人在删除一个单项链表的时候，维护了一个&#8221;prev&#8221;表项指针，然后删除当前表项，就像这样）”</p>
<pre data-enlighter-language="c" class="EnlighterJSRAW">if (prev)
    prev-&gt;next = entry-&gt;next;
else
    list_head = entry-&gt;next;</pre>
<p style="padding-left: 30px;">and whenever I see code like that, I just go &#8220;This person doesn&#8217;t understand pointers&#8221;. And it&#8217;s sadly quite common.（当我看到这样的代码时，我就会想“这个人不了解指针”。令人难过的是这太常见了。）</p>
<p><span id="more-8990"></span></p>
<p style="padding-left: 30px;">People who understand pointers just use a &#8220;pointer to the entry pointer&#8221;, and initialize that with the address of the list_head. And then as they traverse the list, they can remove the entry without using any conditionals, by just doing a &#8220;*pp = entry-&gt;next&#8221;. （了解指针的人会使用链表头的地址来初始化一个“指向节点指针的指针”。当遍历链表的时候，可以不用任何条件判断（注：指prev是否为链表头）就能移除某个节点，只要写)</p>
<p><code data-enlighter-language="c" class="EnlighterJSRAW">*pp = entry-&gt;next</code></p>
<p style="padding-left: 30px;">So there&#8217;s lots of pride in doing the small details right. It may not be big and important code, but I do like seeing code where people really thought about the details, and clearly also were thinking about the compiler being able to generate efficient code (rather than hoping that the compiler is so smart that it can make efficient code *despite* the state of the original source code). （纠正细节是令人自豪的事。也许这段代码并非庞大和重要，<strong>但我喜欢看那些注重代码细节的人写的代码，也就是清楚地了解如何才能编译出有效代码</strong>（而不是寄望于聪明的编译器来产生有效代码，即使是那些原始的汇编代码））。</p>
<p>Linus举了一个单向链表的例子，但给出的代码太短了，一般的人很难搞明白这两个代码后面的含义。正好，有个编程爱好者阅读了这段话，并给出了一个<a href="http://wordaligned.org/articles/two-star-programming" target="_blank">比较完整的代码</a>。他的话我就不翻译了，下面给出代码说明。</p>
<p>如果我们需要写一个remove_if(link*, rm_cond_func*)的函数，也就是传入一个单向链表，和一个自定义的是否删除的函数，然后返回处理后的链接。</p>
<p>这个代码不难，基本上所有的教科书都会提供下面的代码示例，而这种写法也是大公司的面试题<strong>标准</strong>模板：</p>
<pre data-enlighter-language="c" class="EnlighterJSRAW">typedef struct node
{
    struct node * next;
    ....
} node;

typedef bool (* remove_fn)(node const * v);

// Remove all nodes from the supplied list for which the
// supplied remove function returns true.
// Returns the new head of the list.
node * remove_if(node * head, remove_fn rm)
{
    for (node * prev = NULL, * curr = head; curr != NULL; )
    {
        node * const next = curr-&gt;next;
        if (rm(curr))
        {
            if (prev)
                prev-&gt;next = next;
            else
                head = next;
            free(curr);
        }
        else
            prev = curr;
        curr = next;
    }
    return head;
}</pre>
<p>这里remove_fn由调用查提供的一个是否删除当前实体结点的函数指针，其会判断删除条件是否成立。这段代码维护了两个节点指针prev和curr，<strong>标准的教科书写法——删除当前结点时，需要一个previous的指针，并且还要这里还需要做一个边界条件的判断——curr是否为链表头</strong>。于是，要删除一个节点（不是表头），只要将前一个节点的next指向当前节点的next指向的对象，即下一个节点（即：prev-&gt;next = curr-&gt;next），然后释放当前节点。</p>
<p>但在Linus看来，这是不懂指针的人的做法。那么，什么是core low-level coding呢？那就是<strong>有效地利用二级指针，将其作为管理和操作链表的首要选项。</strong>代码如下：</p>
<pre data-enlighter-language="c" class="EnlighterJSRAW" data-enlighter-highlight="5,8,12">void remove_if(node ** head, remove_fn rm)
{
    for (node** curr = head; *curr; )
    {
        node * entry = *curr;
        if (rm(entry))
        {
            *curr = entry-&gt;next;
            free(entry);
        }
        else
            curr = &amp;entry-&gt;next;
    }
}</pre>
<p>同上一段代码有何改进呢？我们看到：<strong>不需要prev指针了，也不需要再去判断是否为链表头了，但是，<span style="color: #cc0000;">curr变成了一个指向指针的指针</span></strong>。这正是这段程序的精妙之处。（注意，我所highlight的那三行代码）</p>
<p>让我们来人肉跑一下这个代码，对于——</p>
<ul>
<li><strong>删除节点是表头</strong>的情况，输入参数中传入head的二级指针，在for循环里将其初始化curr，然后entry就是*head(*curr)，我们马上删除它，那么第8行就等效于*head = (*head)-&gt;next，就是删除表头的实现。</li>
</ul>
<ul>
<li><strong>删除节点不是表头</strong>的情况，对于上面的代码，我们可以看到——</li>
</ul>
<p style="padding-left: 30px;"><strong>1）<strong>（第12行）</strong>如果不删除当前结点 —— curr保存的是当前结点next指针的地址</strong>。</p>
<p style="padding-left: 30px;"><strong>2）（第5行） entry 保存了 *curr <strong>—— </strong>这意味着在下一次循环：entry就是prev-&gt;next指针所指向的内存。</strong></p>
<p style="padding-left: 30px;"><strong></strong><strong>3）（第8行）删除结点：*curr = entry-&gt;next; —— 于是：prev-&gt;next 指向了 entry -&gt; next;</strong></p>
<p>是不是很巧妙？我们可以只用一个二级指针来操作链表，对所有节点都一样。</p>
<p>如果你对上面的代码和描述理解上有困难的话，你可以看看下图的示意：</p>
<p><img decoding="async" class="aligncenter size-full wp-image-9018" alt src="/wp-content/uploads/2013/02/linus_pointer_to_pointer.jpg" width="479" height="470" srcset="/wp-content/uploads/2013/02/linus_pointer_to_pointer.jpg 479w, /wp-content/uploads/2013/02/linus_pointer_to_pointer-300x294.jpg 300w, /wp-content/uploads/2013/02/linus_pointer_to_pointer-275x270.jpg 275w" sizes="(max-width: 479px) 100vw, 479px" /></p>
<p>（全文完）</p>
<div style="margin-top: 15px; font-size: 16px;color: #cc0000;">
<p align="center"><strong>（转载本站文章请注明作者和出处 <a href="https://coolshell.cn/">酷 壳 &#8211; CoolShell</a> ，请勿用于任何商业用途）</strong></p>
</div>
<div class="wp_rp_wrap  wp_rp_vertical_m" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">相关文章</h3><ul class="related_post wp_rp"><li><a href="/articles/9859.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2013/06/Alan-Cox-150x150.jpg" alt="Alan Cox：单向链表中prev指针的妙用" width="150" height="150" /></a><a href="/articles/9859.html" class="wp_rp_title">Alan Cox：单向链表中prev指针的妙用</a></li><li><a href="/articles/18360.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2018/05/300x262-150x150.jpg" alt="程序员练级攻略（2018)  与我的专栏" width="150" height="150" /></a><a href="/articles/18360.html" class="wp_rp_title">程序员练级攻略（2018) 与我的专栏</a></li><li><a href="/articles/18024.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2017/07/api-design-300x278-2-150x150.jpg" alt="API设计原则 &#8211; Qt官网的设计实践总结" width="150" height="150" /></a><a href="/articles/18024.html" class="wp_rp_title">API设计原则 &#8211; Qt官网的设计实践总结</a></li><li><a href="/articles/9917.html" class="wp_rp_thumbnail"><img src="/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/10.jpg" alt="Alan Cox：大教堂、市集与市议会" width="150" height="150" /></a><a href="/articles/9917.html" class="wp_rp_title">Alan Cox：大教堂、市集与市议会</a></li><li><a href="/articles/8088.html" class="wp_rp_thumbnail"><img src="/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/7.jpg" alt="对技术的态度" width="150" height="150" /></a><a href="/articles/8088.html" class="wp_rp_title">对技术的态度</a></li><li><a href="/articles/7886.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2012/07/muxnt-150x150.jpg" alt="代码执行的效率" width="150" height="150" /></a><a href="/articles/7886.html" class="wp_rp_title">代码执行的效率</a></li></ul></div></div>
<div id="post-ratings-8990" class="post-ratings" itemscope itemtype="https://schema.org/Article" data-nonce="c5aa081304"><img id="rating_8990_1" src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="好烂啊" title="好烂啊" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(8990, 1, '好烂啊');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.3, 5, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-5f1174d32b2de811aceb048f- /><img id="rating_8990_2" src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="有点差" title="有点差" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(8990, 2, '有点差');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.3, 5, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-5f1174d32b2de811aceb048f- /><img id="rating_8990_3" src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="凑合看看" title="凑合看看" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(8990, 3, '凑合看看');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.3, 5, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-5f1174d32b2de811aceb048f- /><img id="rating_8990_4" src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_on.gif" alt="还不错" title="还不错" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(8990, 4, '还不错');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.3, 5, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-5f1174d32b2de811aceb048f- /><img id="rating_8990_5" src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_half.gif" alt="很精彩" title="很精彩" onmouseover="if (!window.__cfRLUnblockHandlers) return false; current_rating(8990, 5, '很精彩');" onmouseout="if (!window.__cfRLUnblockHandlers) return false; ratings_off(4.3, 5, 0);" onclick="if (!window.__cfRLUnblockHandlers) return false; rate_post();" onkeypress="if (!window.__cfRLUnblockHandlers) return false; rate_post();" style="cursor: pointer; border: 0px;" data-cf-modified-5f1174d32b2de811aceb048f- /> (<strong>54</strong> 人打了分，平均分： <strong>4.28</strong> )<br/><span class="post-ratings-text" id="ratings_8990_text"></span><meta itemprop="name" content="Linus：利用二级指针删除单向链表" /><meta itemprop="headline" content="Linus：利用二级指针删除单向链表" /><meta itemprop="description" content="感谢网友full_of_bull投递此文（注：此文最初发表在这个这里，我对原文后半段修改了许多，并加入了插图）

Linus大婶在slashdot上回答一些编程爱好者的提问，其中一个人问他什么样的代码是他所喜好的，大婶表述了自己一些观点之后，举了一个指针的例子，解释了什么才是core low-level coding。

下面是Linus的教学原文及翻译&mdash;&mdash;
&ldquo;At the opposi..." /><meta itemprop="datePublished" content="2013-02-04T08:33:20+08:00" /><meta itemprop="dateModified" content="2013-02-04T15:12:58+08:00" /><meta itemprop="url" content="/articles/8990.html" /><meta itemprop="author" content="Leo" /><meta itemprop="mainEntityOfPage" content="/articles/8990.html" /><div style="display: none;" itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="酷 壳 - CoolShell" /><meta itemprop="url" content="https://coolshell.cn" /><div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject"><meta itemprop="url" content /></div></div><div style="display: none;" itemprop="aggregateRating" itemscope itemtype="https://schema.org/AggregateRating"><meta itemprop="bestRating" content="5" /><meta itemprop="worstRating" content="1" /><meta itemprop="ratingValue" content="4.28" /><meta itemprop="ratingCount" content="54" /></div></div><div id="post-ratings-8990-loading" class="post-ratings-loading"><img src="/wp-content/plugins/wp-postratings/images/loading.gif" width="16" height="16" class="post-ratings-image" />Loading...</div>
</div>
<footer class="entry-footer">
<hr><div class="row"><div class="col-md-6 cattegories"><span class="cat-links"><i class="fa fa-folder-open"></i>
<a href="/category/proglanguage/cplusplus" rel="category tag">C/C++语言</a>, <a href="/category/operatingsystem/unixlinux" rel="category tag">Unix/Linux</a></span></div><div class="col-md-6 tags"><span class="tags-links"><i class="fa fa-tags"></i> <a href="https://coolshell.cn/tag/c" rel="tag">C++</a>, <a href="https://coolshell.cn/tag/coding" rel="tag">Coding</a>, <a href="https://coolshell.cn/tag/kernel" rel="tag">Kernel</a>, <a href="https://coolshell.cn/tag/linus-torvalds" rel="tag">Linus Torvalds</a>, <a href="https://coolshell.cn/tag/linux" rel="tag">Linux</a></span></div></div> </footer>
</article>

<div id="related_posts">
<div class="wp_rp_wrap  wp_rp_vertical_m"><div class="wp_rp_content"><h3 class="related_post_title">相关文章</h3><ul class="related_post wp_rp"><li><a href="/articles/9859.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2013/06/Alan-Cox-150x150.jpg" alt="Alan Cox：单向链表中prev指针的妙用" width="150" height="150" /></a><a href="/articles/9859.html" class="wp_rp_title">Alan Cox：单向链表中prev指针的妙用</a></li><li><a href="/articles/18360.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2018/05/300x262-150x150.jpg" alt="程序员练级攻略（2018)  与我的专栏" width="150" height="150" /></a><a href="/articles/18360.html" class="wp_rp_title">程序员练级攻略（2018) 与我的专栏</a></li><li><a href="/articles/18024.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2017/07/api-design-300x278-2-150x150.jpg" alt="API设计原则 &#8211; Qt官网的设计实践总结" width="150" height="150" /></a><a href="/articles/18024.html" class="wp_rp_title">API设计原则 &#8211; Qt官网的设计实践总结</a></li><li><a href="/articles/9917.html" class="wp_rp_thumbnail"><img src="/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/10.jpg" alt="Alan Cox：大教堂、市集与市议会" width="150" height="150" /></a><a href="/articles/9917.html" class="wp_rp_title">Alan Cox：大教堂、市集与市议会</a></li><li><a href="/articles/8088.html" class="wp_rp_thumbnail"><img src="/wp-content/plugins/wordpress-23-related-posts-plugin/static/thumbs/7.jpg" alt="对技术的态度" width="150" height="150" /></a><a href="/articles/8088.html" class="wp_rp_title">对技术的态度</a></li><li><a href="/articles/7886.html" class="wp_rp_thumbnail"><img src="/wp-content/uploads/2012/07/muxnt-150x150.jpg" alt="代码执行的效率" width="150" height="150" /></a><a href="/articles/7886.html" class="wp_rp_title">代码执行的效率</a></li></ul></div></div>
</div><div class="fixed"></div> 
</main>
<div class="post-navigation">
<nav class="navigation" role="navigation">
<h2 class="screen-reader-text">Post navigation</h2>
<div class="nav-links">
<div class="row">

<div class="col-md-6 next-post">
<a class href="/articles/9070.html"><span class="next-prev-text"><i class="fa fa-angle-left"></i>
上一篇</span><br>AWK 简明教程</a>
</div>

<div class="col-md-6 prev-post">
<a class href="/articles/8961.html"><span class="next-prev-text">下一篇 <i class="fa fa-angle-right"></i>
</span><br>从面向对象的设计模式看软件设计</a>
</div>
</div>
</div>
</nav>
</div>
<div class="post-comments">
<div id="comments" class="comments-area">
<h2 class="comments-title">
《<span>Linus：利用二级指针删除单向链表</span>》的相关评论 </h2>
<ol class="comment-list">
<li id="comment-1087943" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://myitlife.net/%e4%bd%bf%e7%94%a8%e4%ba%8c%e7%ba%a7%e6%8c%87%e9%92%88%e6%93%8d%e4%bd%9c%e5%8d%95%e9%93%be%e8%a1%a8/" class="url" rel="ugc external nofollow">使用二级指针操作单链表</a> </div>
</li>
<li id="comment-1104218" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1104218" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/394d9842ac8c117346cb61e073104ac8?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/394d9842ac8c117346cb61e073104ac8?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">liang</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1104218"><time datetime="2013-12-25T12:35:55+08:00">2013年12月25日 12:35</time></a> </div>
</footer>
<div class="comment-content">
<p>curr = &amp;entry-&gt;next; 要是写成 &amp;(*curr)-&gt;next; 可能更加合理直观一点。<br/>
最后的图片，如果补充强调一下蓝色的内存区域可能是节点内next 字段也不错。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1104218#respond" data-commentid="1104218" data-postid="8990" data-belowelement="div-comment-1104218" data-respondelement="respond" data-replyto="回复给liang" aria-label="回复给liang">回复</a></div> </article>
</li>
<li id="comment-1108582" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://hedengcheng.com/?p=828" class="url" rel="ugc external nofollow">2013年个人微博推荐技术资料汇总 | 何登成的技术博客</a> </div>
</li>
<li id="comment-1108667" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1108667" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4171bebffeea2fba5a6f4e7b16bc917c?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/4171bebffeea2fba5a6f4e7b16bc917c?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://oceanbase.org.cn" class="url" rel="ugc external nofollow">郁白</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1108667"><time datetime="2013-12-26T17:19:59+08:00">2013年12月26日 17:19</time></a> </div>
</footer>
<div class="comment-content">
<p>这代码可读性不好，使用一个匿名head结点不是更好吗</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1108667#respond" data-commentid="1108667" data-postid="8990" data-belowelement="div-comment-1108667" data-respondelement="respond" data-replyto="回复给郁白" aria-label="回复给郁白">回复</a></div> </article>
</li>
<li id="comment-1140676" class="comment even thread-even depth-1">
<article id="div-comment-1140676" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/35c2e2c9d27bc49e9b0fc28c15675fb4?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/35c2e2c9d27bc49e9b0fc28c15675fb4?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://saigut.com/" class="url" rel="ugc external nofollow">Saigut</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1140676"><time datetime="2014-01-04T13:23:22+08:00">2014年01月04日 13:23</time></a> </div>
</footer>
<div class="comment-content">
<p>删除节点时的格式：<br/>
前一个节点的next指针 = 下一个节点的地址<br/>
“前一个节点的next指针”该如何表示？人们很习惯的想到：<br/>
PrePtr-＞next<br/>
不过当被删除的节点是第一个的时候，就不能这样用了，因为没有前一个节点，只能这样：<br/>
head<br/>
所以要判断一下应该用哪个。</p>
<p>但是 PrePtr-＞next和head的作用几乎一样啊，都是指向下一个节点，有什么办法统一表示吗？<br/>
可以，它们的类型是一样的，可以用一个变量比如pp保存它们的地址。<br/>
当pp保存的是 PrePtr-＞next 的地址的时候，它就可以代表 PrePtr-＞next，当pp保存的是head的地址的时候它就可以代表head。<br/>
怎么代表？当然就是*pp。<br/>
这样用*pp就可以统一代表“ 前一个节点的next指针 ” ，而且改变*pp所代表的指针也是很容易的（只要改pp所保存的地址就可以了）。</p>
<p>另外一楼 @Leo 所举的例子是不对的。实际上从“第三次解”那里就没有意义了。如果dummy的值是头指针的地址的话，那么*dummy代表头指针，它的值也就是第一个节点的地址。而**dummy代表的是第一个节点，它的类型不是一个指针。因而*(*(*dummy))就没有意义了。多级（大于三级）的指针在c语言中用处应该是不大的。<br/>
除非有一个返回值是地址的节点类型才有可能满足你所说的，不过这种类型太复杂吧，c看起来不适合做这个。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1140676#respond" data-commentid="1140676" data-postid="8990" data-belowelement="div-comment-1140676" data-respondelement="respond" data-replyto="回复给Saigut" aria-label="回复给Saigut">回复</a></div> </article>
</li>
<li id="comment-1177672" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1177672" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/6cbbe4b4509425fc60c5331c10707754?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/6cbbe4b4509425fc60c5331c10707754?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">MuteCoder</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1177672"><time datetime="2014-01-14T10:22:32+08:00">2014年01月14日 10:22</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-326334"><p>
<strong><a href="#comment-326334" rel="nofollow">Leo</a> :</strong><br/>
换言之，如果一个单向链表，next是第一个字段，我们可以用一个二级指针dummy引用一条链表上的所有节点。<br/>
struct node **dummy = &amp;head-&gt;next;<br/>
一次解引用*dummy指向头结点head<br/>
二次解引用**dummy指向head下一个节点<br/>
三次解引用*(*(*dummy))指向第三个节点<br/>
以此类推……<br/>
如果我们需要找到从head开始的第N个节点，那么对dummy进行N次解引用即可，当然现实工程中一般不会用到这么tricky的语法糖，但使用一个变量同时引用相邻三个节点是很有用的;-)。
</p></blockquote>
<p>只是钻了内存的空而已</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1177672#respond" data-commentid="1177672" data-postid="8990" data-belowelement="div-comment-1177672" data-respondelement="respond" data-replyto="回复给MuteCoder" aria-label="回复给MuteCoder">回复</a></div> </article>
</li>
<li id="comment-1267897" class="comment byuser comment-author-jkand1 even thread-even depth-1">
<article id="div-comment-1267897" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/7320a186d326c60aceb19d51bb4f2628?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/7320a186d326c60aceb19d51bb4f2628?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">shady</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1267897"><time datetime="2014-02-12T11:22:49+08:00">2014年02月12日 11:22</time></a> </div>
</footer>
<div class="comment-content">
<p>这么经典的好文在酷壳上又温习一遍，最后的图解很到位，谢谢 Leo~</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1267897#respond" data-commentid="1267897" data-postid="8990" data-belowelement="div-comment-1267897" data-respondelement="respond" data-replyto="回复给shady" aria-label="回复给shady">回复</a></div> </article>
</li>
<li id="comment-1275089" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1275089" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/3ccde690c8ab65ca98bcd6573037d765?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/3ccde690c8ab65ca98bcd6573037d765?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">andrew_show</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1275089"><time datetime="2014-02-14T13:39:03+08:00">2014年02月14日 13:39</time></a> </div>
</footer>
<div class="comment-content">
<p>linux中的list_head和windows中的LIST_ENTRY都是双向链表的实现，两者的实现基本是等同的，和这里的单链表一样，也使用了一个dummy的头来指示链表的头尾。当dummy的头的prev/next指向dummy自身的时候，链表为空。利用dummy的头，可以避免一些不必要的判断，使代码变得精简。<br/>
使用container_of/CONTAINING_RECORD宏可以从list_head/LIST_ENTRY指针反推包含节点的数据结构。<br/>
这种实现方式简洁，高效，个人认为这种实现方式可以说是双向链表的极致了。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1275089#respond" data-commentid="1275089" data-postid="8990" data-belowelement="div-comment-1275089" data-respondelement="respond" data-replyto="回复给andrew_show" aria-label="回复给andrew_show">回复</a></div> </article>
</li>
<li id="comment-1433170" class="comment even thread-even depth-1">
<article id="div-comment-1433170" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/22fcdbd191d02ac912253a685f4fe0f5?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/22fcdbd191d02ac912253a685f4fe0f5?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">骚人墨客</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1433170"><time datetime="2014-04-18T19:43:17+08:00">2014年04月18日 19:43</time></a> </div>
</footer>
<div class="comment-content">
<p>看个这段代码，明白了，多谢！<a href="#comment-327003" rel="nofollow">@fox的爱智慧 </a></p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1433170#respond" data-commentid="1433170" data-postid="8990" data-belowelement="div-comment-1433170" data-respondelement="respond" data-replyto="回复给骚人墨客" aria-label="回复给骚人墨客">回复</a></div> </article>
</li>
<li id="comment-1481196" class="pingback odd alt thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://tomsawyer.me/?p=6" class="url" rel="ugc external nofollow">次级指针的灵活使用 | tomsawyer</a> </div>
</li>
<li id="comment-1484572" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.kryptosx.info/archives/286.html" class="url" rel="ugc external nofollow">利用二级指针删除单向链表——笔记 | KryptosX 实验室</a> </div>
</li>
<li id="comment-1507763" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1507763" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/e90f07ee91dc815f2c3bf0550c0ae1e5?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/e90f07ee91dc815f2c3bf0550c0ae1e5?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">hong1991</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1507763"><time datetime="2014-08-05T13:29:27+08:00">2014年08月05日 13:29</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-285864" rel="nofollow">@Neuron Teckid </a> 他们还可能会因为看不懂你的代码要求你写得和他们一样。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1507763#respond" data-commentid="1507763" data-postid="8990" data-belowelement="div-comment-1507763" data-respondelement="respond" data-replyto="回复给hong1991" aria-label="回复给hong1991">回复</a></div> </article>
</li>
<li id="comment-1569877" class="comment even thread-even depth-1">
<article id="div-comment-1569877" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/d1c183de721e8f2cadbb924f36d84d38?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/d1c183de721e8f2cadbb924f36d84d38?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">nano</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1569877"><time datetime="2014-10-13T01:12:39+08:00">2014年10月13日 01:12</time></a> </div>
</footer>
<div class="comment-content">
<p>图画错了，curr是node的二重指针，所以通过两个“箭头”指向以后就应该指向一个node实体，蓝色方块是多余的。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1569877#respond" data-commentid="1569877" data-postid="8990" data-belowelement="div-comment-1569877" data-respondelement="respond" data-replyto="回复给nano" aria-label="回复给nano">回复</a></div> </article>
</li>
<li id="comment-1569892" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1569892" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/d1c183de721e8f2cadbb924f36d84d38?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/d1c183de721e8f2cadbb924f36d84d38?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">nano</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1569892"><time datetime="2014-10-13T01:33:18+08:00">2014年10月13日 01:33</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-1569877"><p>
<strong><a href="#comment-1569877" rel="nofollow">nano</a> :</strong><br/>
图画错了，curr是node的二重指针，所以通过两个“箭头”指向以后就应该指向一个node实体，蓝色方块是多余的。
</p></blockquote>
<p>就是这个错误让我看了半天看不懂，我都要怀疑自己懂不懂指针了T_T</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1569892#respond" data-commentid="1569892" data-postid="8990" data-belowelement="div-comment-1569892" data-respondelement="respond" data-replyto="回复给nano" aria-label="回复给nano">回复</a></div> </article>
</li>
<li id="comment-1638307" class="pingback even thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://www.xdhcn.com/?p=1034" class="url" rel="ugc external nofollow">Linus：为何对象引用计数必须是原子的 | 星达红</a> </div>
</li>
<li id="comment-1640337" class="comment odd alt thread-odd thread-alt depth-1">
<article id="div-comment-1640337" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/43d2fa69c79aabad523c813fb3b0c559?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/43d2fa69c79aabad523c813fb3b0c559?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">zxcbryanfury</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1640337"><time datetime="2015-01-04T23:15:11+08:00">2015年01月04日 23:15</time></a> </div>
</footer>
<div class="comment-content">
<p>我觉得理解的关键在于，在C++中，变量名的意义是拷贝一个值。之前的常见做法，cur = head-&gt;next，仅仅是把指针head-&gt;next的值copy给了指针cur，使得cur可以访问链表的下一个节点；而声明为二级指针的cur，*cur不是head-&gt;next的copy值，它“就是”head-&gt;next这个变量名的别名，它获得的是head-&gt;next这个变量的读写权</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1640337#respond" data-commentid="1640337" data-postid="8990" data-belowelement="div-comment-1640337" data-respondelement="respond" data-replyto="回复给zxcbryanfury" aria-label="回复给zxcbryanfury">回复</a></div> </article>
</li>
<li id="comment-1659449" class="comment even thread-even depth-1">
<article id="div-comment-1659449" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4f59ac3d1f3d02f4c148dc1d957e9b60?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/4f59ac3d1f3d02f4c148dc1d957e9b60?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">liaogang</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1659449"><time datetime="2015-02-11T14:39:26+08:00">2015年02月11日 14:39</time></a> </div>
</footer>
<div class="comment-content">
<p>分段处理:</p>
<p>ListNode *removeIf(ListNode *head,remove_fn rm)<br/>
{<br/>
/// find new head.<br/>
for ( ;head &amp;&amp; rm (head); head=head-&gt;next)<br/>
{}</p>
<p> /// others.<br/>
for ( ListNode *prev = head , *curr = head-&gt;next ; curr ; curr = curr-&gt;next )<br/>
{<br/>
if ( rm(curr))<br/>
prev-&gt;next = curr-&gt;next;<br/>
}</p>
<p> return head;<br/>
}</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1659449#respond" data-commentid="1659449" data-postid="8990" data-belowelement="div-comment-1659449" data-respondelement="respond" data-replyto="回复给liaogang" aria-label="回复给liaogang">回复</a></div> </article>
</li>
<li id="comment-1674252" class="comment odd alt thread-odd thread-alt depth-1 parent">
<article id="div-comment-1674252" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/78334b6caafc7dda4561fbe10f1aad2f?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/78334b6caafc7dda4561fbe10f1aad2f?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">ming</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1674252"><time datetime="2015-03-13T12:42:14+08:00">2015年03月13日 12:42</time></a> </div>
</footer>
<div class="comment-content">
<p>node** curr = head 是必须的吗? 可不可以直接用 head?</p>
<p>void remove_if(node ** head, remove_fn rm)<br/>
{<br/>
while(*head)<br/>
{<br/>
node * entry = *head;<br/>
if (rm(entry))<br/>
{<br/>
*head = entry-&gt;next;<br/>
free(entry);<br/>
}<br/>
else<br/>
head = &amp;entry-&gt;next;<br/>
}<br/>
}</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1674252#respond" data-commentid="1674252" data-postid="8990" data-belowelement="div-comment-1674252" data-respondelement="respond" data-replyto="回复给ming" aria-label="回复给ming">回复</a></div> </article>
<ol class="children">
<li id="comment-2370259" class="comment even depth-2">
<article id="div-comment-2370259" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/cb407680be0ced223c6af433f49b00f7?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/cb407680be0ced223c6af433f49b00f7?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">owen</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-2370259"><time datetime="2022-03-14T13:12:49+08:00">2022年03月14日 13:12</time></a> </div>
</footer>
<div class="comment-content">
<p>不行。这样会破坏原来的头结点。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=2370259#respond" data-commentid="2370259" data-postid="8990" data-belowelement="div-comment-2370259" data-respondelement="respond" data-replyto="回复给owen" aria-label="回复给owen">回复</a></div> </article>
</li>
</ol>
</li>
<li id="comment-1690814" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="http://nearchen.com/blog/%e4%ba%8c%e7%ba%a7%e6%8c%87%e9%92%88%e5%9c%a8%e5%8d%95%e5%90%91%e9%93%be%e8%a1%a8%e4%b8%ad%e7%9a%84%e5%ba%94%e7%94%a8/" class="url" rel="ugc external nofollow">二级指针在单向链表中的应用 | Coding and Thinking</a> </div>
</li>
<li id="comment-1691426" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-1691426" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/9cb9489b2f418884dbbf8fc34faf1fa2?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/9cb9489b2f418884dbbf8fc34faf1fa2?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">nnkken</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1691426"><time datetime="2015-04-16T21:25:32+08:00">2015年04月16日 21:25</time></a> </div>
</footer>
<div class="comment-content">
<p>其實完全可以這樣想：<br/>
因為remove_if有可能把head刪掉，所以必須1. 返回新的head，然後調用方自行更改head，或2. 傳進&amp;head。<br/>
把後一種情況做成遞歸實現：<br/>
typedef struct _Node {<br/>
struct _Node* next;<br/>
int value;<br/>
} Node;</p>
<p>void remove_if_greater_than(Node** p_head, int limit) {<br/>
if (p_head == NULL || *p_head == NULL) {<br/>
return;<br/>
}<br/>
Node* head = *p_head;<br/>
if (head-&gt;value &gt; limit) {<br/>
*p_head = head-&gt;next;<br/>
free(head);<br/>
remove_if_greater_than(p_head, limit);<br/>
} else {<br/>
remove_if_greater_than(&amp;(head-&gt;next), limit);<br/>
}<br/>
}</p>
<p>然後做個尾遞歸優化：</p>
<p>void remove_if_greater_than_tail_opt(Node** p_curr, int limit) {<br/>
while (p_curr != NULL &amp;&amp; *p_curr != NULL) {<br/>
Node* curr = *p_curr;<br/>
if (curr-&gt;value &gt; limit) {<br/>
*p_curr = curr-&gt;next;<br/>
free(curr);<br/>
} else {<br/>
p_curr = &amp;(curr-&gt;next);<br/>
}<br/>
}<br/>
}</p>
<p>就能得到Linus的解法，而且相當直觀。<br/>
關鍵在於，我們完全可以把head-&gt;next想像成為另一個鏈表的head。<br/>
所以你瞧，函數式語言多棒啊，讓你可以理解類型的本質，雖說我還沒真正用過函數式語言……</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1691426#respond" data-commentid="1691426" data-postid="8990" data-belowelement="div-comment-1691426" data-respondelement="respond" data-replyto="回复给nnkken" aria-label="回复给nnkken">回复</a></div> </article>
</li>
<li id="comment-1710404" class="comment odd alt thread-even depth-1">
<article id="div-comment-1710404" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/1ffdc37a69a6b28c8f8dad03cc396de6?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/1ffdc37a69a6b28c8f8dad03cc396de6?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">fei</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1710404"><time datetime="2015-05-21T02:55:11+08:00">2015年05月21日 02:55</time></a> </div>
</footer>
<div class="comment-content">
<p>个人认为，简洁不能以难懂作为代价。也许对于内核开发人员来说，像Linus那样是容易懂的写法。<br/>
我会坚持啰嗦的写法。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1710404#respond" data-commentid="1710404" data-postid="8990" data-belowelement="div-comment-1710404" data-respondelement="respond" data-replyto="回复给fei" aria-label="回复给fei">回复</a></div> </article>
</li>
<li id="comment-1725174" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-1725174" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/2cd9d7aaf171fad1b494ad140a56c2c3?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/2cd9d7aaf171fad1b494ad140a56c2c3?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">feimi</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1725174"><time datetime="2015-06-21T18:38:10+08:00">2015年06月21日 18:38</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-286072"><p>
<strong><a href="#comment-286072" rel="nofollow">card323</a> :</strong><br/>
<a href="#comment-286005" rel="nofollow">@viho_he </a><br/>
Linus的这个程序和你说的那个特性貌似没什么关系吧<br/>
你写的node == &amp;node-&gt;next应该是想说&amp;node == &amp;node-&gt;next的意思吧<br/>
无论next指针在结构体中的定义位置 linux的程序都是没问题的吧
</p></blockquote>
<p>把“吧”去掉，已经验证过，跟结构体书写没关系。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1725174#respond" data-commentid="1725174" data-postid="8990" data-belowelement="div-comment-1725174" data-respondelement="respond" data-replyto="回复给feimi" aria-label="回复给feimi">回复</a></div> </article>
</li>
<li id="comment-1741431" class="comment odd alt thread-even depth-1">
<article id="div-comment-1741431" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/b2d7d2d13aed54c2ed7feb538b382b42?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/b2d7d2d13aed54c2ed7feb538b382b42?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">0xFFFFFFFF</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1741431"><time datetime="2015-07-29T05:13:12+08:00">2015年07月29日 05:13</time></a> </div>
</footer>
<div class="comment-content">
<p>这段代码，乍一看很牛其实仔细一琢磨，唯一的作用是用来炫耀。首先 取地址 运算符 只能作用于lvalue，所以创建的时候 还是需要一个临时变量指向 链表节点。 如果这样 真不如 只用一级指针然后<br/>
void remove_if(node* head, remove_fn rm) {<br/>
node H;<br/>
H.next = head;<br/>
&#8230;.<br/>
return H.next;<br/>
}</p>
<p>还有 linus 进场喷 C++ 其实 在C++中 node*&amp; head 更优雅</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1741431#respond" data-commentid="1741431" data-postid="8990" data-belowelement="div-comment-1741431" data-respondelement="respond" data-replyto="回复给0xFFFFFFFF" aria-label="回复给0xFFFFFFFF">回复</a></div> </article>
</li>
<li id="comment-1743918" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-1743918" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/dc6ea23c91523a8121f78fda5cb045c2?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/dc6ea23c91523a8121f78fda5cb045c2?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">cscareer</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1743918"><time datetime="2015-08-06T09:41:33+08:00">2015年08月06日 09:41</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1741431" rel="nofollow">@0xFFFFFFFF </a><br/>
如果构造dummy head H很费呢？</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1743918#respond" data-commentid="1743918" data-postid="8990" data-belowelement="div-comment-1743918" data-respondelement="respond" data-replyto="回复给cscareer" aria-label="回复给cscareer">回复</a></div> </article>
</li>
<li id="comment-1748321" class="comment odd alt thread-even depth-1">
<article id="div-comment-1748321" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/07aa78fa85daf9d0b4b8e56741228d1f?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/07aa78fa85daf9d0b4b8e56741228d1f?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://jackdrogon.github.io/blog" class="url" rel="ugc external nofollow">Drogon</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1748321"><time datetime="2015-08-19T18:55:13+08:00">2015年08月19日 18:55</time></a> </div>
</footer>
<div class="comment-content">
<p>这个实际上非常简单，主要是两种删除节点的对比。怎么会被解释得这么复杂了呢？<br/>
第一种： prev-&gt;next = next, 由于head的没有直接的prev的缘故， 所以使用NULL，NULL没有prev所以需要特别处理，同时更新head的值。<br/>
这样理解的话就算函数不是返回node ＊，而是和下面一样使用node ＊＊， 返回值为void 也没有<br/>
代码：<br/>
node * remove_if(node * ＊head, remove_fn rm)<br/>
{<br/>
for (node * prev = NULL, * curr = ＊head; curr != NULL; )<br/>
{<br/>
node * const next = curr-&gt;next;<br/>
if (rm(curr))<br/>
{<br/>
if (prev)<br/>
prev-&gt;next = next;<br/>
else<br/>
＊head = next;<br/>
free(curr);<br/>
}<br/>
else<br/>
prev = curr;<br/>
curr = next;<br/>
}<br/>
}<br/>
这样head的值也被修改了，无需返回node ＊。</p>
<p>第二种： curr ＝ curr-&gt;next, curr的值可以为head，所以不需要特殊判断，但是这样不能更新head的值，因为head就是指针，所以这儿直接使用了二维指针来修改head的值，直接改为*curr = (*curr)-&gt;next, 而此处的curr为entry。entry这个是用来free的，要小心。</p>
<p>综上： 这个实际上是两种删除节点方法的比较，和二维指针真心关系不是特别大。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1748321#respond" data-commentid="1748321" data-postid="8990" data-belowelement="div-comment-1748321" data-respondelement="respond" data-replyto="回复给Drogon" aria-label="回复给Drogon">回复</a></div> </article>
</li>
<li id="comment-1748440" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-1748440" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/07aa78fa85daf9d0b4b8e56741228d1f?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/07aa78fa85daf9d0b4b8e56741228d1f?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn"><a href="http://jackdrogon.github.io/blog" class="url" rel="ugc external nofollow">Drogon</a></b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1748440"><time datetime="2015-08-19T23:51:55+08:00">2015年08月19日 23:51</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-1748321" rel="nofollow">@Drogon </a><br/>
同时第二种 还是current 这点确实是使用二维指针 使得curr指向的prev-&gt;next的值被修改了。整个思路按照 *curr ＝ (*curr) －&gt; next, 而curr又是prev-&gt;next来理解却是简单了很多。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1748440#respond" data-commentid="1748440" data-postid="8990" data-belowelement="div-comment-1748440" data-respondelement="respond" data-replyto="回复给Drogon" aria-label="回复给Drogon">回复</a></div> </article>
</li>
<li id="comment-1799031" class="comment odd alt thread-even depth-1">
<article id="div-comment-1799031" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/99a5b2149c91a134b06679e394799eac?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/99a5b2149c91a134b06679e394799eac?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">sidgwick</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1799031"><time datetime="2015-12-05T20:25:41+08:00">2015年12月05日 20:25</time></a> </div>
</footer>
<div class="comment-content">
<p>memcached里面的哈希表好像就是这么用的, 当时就觉得好牛逼.</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1799031#respond" data-commentid="1799031" data-postid="8990" data-belowelement="div-comment-1799031" data-respondelement="respond" data-replyto="回复给sidgwick" aria-label="回复给sidgwick">回复</a></div> </article>
</li>
<li id="comment-1825146" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.codeba.cc/alan-cox%ef%bc%9a%e5%8d%95%e5%90%91%e9%93%be%e8%a1%a8%e4%b8%adprev%e6%8c%87%e9%92%88%e7%9a%84%e5%a6%99%e7%94%a8-codeba-cc.html" class="url" rel="ugc external nofollow">Alan Cox：单向链表中prev指针的妙用 | Codeba.cc | Codeba</a> </div>
</li>
<li id="comment-1850981" class="comment odd alt thread-even depth-1">
<article id="div-comment-1850981" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/c83017deeea4f1e36b395f8f5fbf0370?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/c83017deeea4f1e36b395f8f5fbf0370?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">西北疯</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1850981"><time datetime="2016-06-22T22:57:21+08:00">2016年06月22日 22:57</time></a> </div>
</footer>
<div class="comment-content">
<blockquote cite="#commentbody-1640337"><p>
<strong><a href="#comment-1640337" rel="nofollow">zxcbryanfury</a> :</strong><br/>
我觉得理解的关键在于，在C++中，变量名的意义是拷贝一个值。之前的常见做法，cur = head-&gt;next，仅仅是把指针head-&gt;next的值copy给了指针cur，使得cur可以访问链表的下一个节点；而声明为二级指针的cur，*cur不是head-&gt;next的copy值，它“就是”head-&gt;next这个变量名的别名，它获得的是head-&gt;next这个变量的读写权
</p></blockquote>
<p>我觉得你这个回答，是这里最精辟的。我用自己的语言描述一遍：因为“链表操作”的对象都是指针，所以用二级指针来操作“指针”这种特殊的变量，就像一般情况下传递一个指针给函数，来操作普通变量一样。可以获得变量的读写权，由于头指针又同时作为函数的参数，所以这里用二级指针，同时获得了改变外部变量（不用返回新的头指针）和内部的权限，省却一个临时内部变量。<br/>
其实，那个所谓的“教科书标准示例代码”，也是可以简化的，不用定义prev指针，也是可以的。但是新的头指针必须返回。没有二级指针，是无法改变函数外“指针”类型的实参的。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1850981#respond" data-commentid="1850981" data-postid="8990" data-belowelement="div-comment-1850981" data-respondelement="respond" data-replyto="回复给西北疯" aria-label="回复给西北疯">回复</a></div> </article>
</li>
<li id="comment-1857197" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.178linux.com/2161" class="url" rel="ugc external nofollow">Linus：利用二级指针删除单向链表 &#8211; linux运维部落</a> </div>
</li>
<li id="comment-1896105" class="comment odd alt thread-even depth-1">
<article id="div-comment-1896105" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/1fa986fbe86fe143dde9f53be61f1b86?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/1fa986fbe86fe143dde9f53be61f1b86?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">Jason</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1896105"><time datetime="2016-11-03T16:52:40+08:00">2016年11月03日 16:52</time></a> </div>
</footer>
<div class="comment-content">
<p>原来 cur 存的是每个节点里next变量的地址， *cur 是当前节点的下一个节点的地址， *cur = （*cur）-&gt;next 是把当前节点的next 修改为下一个节点的下一个节点的地址， cur = &amp;(*curr)-&gt;next 是让cur存下一个节点的next变量的地址； 这么写简单 但是是不是太绕了</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1896105#respond" data-commentid="1896105" data-postid="8990" data-belowelement="div-comment-1896105" data-respondelement="respond" data-replyto="回复给Jason" aria-label="回复给Jason">回复</a></div> </article>
</li>
<li id="comment-1907714" class="comment even thread-odd thread-alt depth-1">
<article id="div-comment-1907714" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/4f59ac3d1f3d02f4c148dc1d957e9b60?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/4f59ac3d1f3d02f4c148dc1d957e9b60?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">刚子</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1907714"><time datetime="2016-12-19T17:57:10+08:00">2016年12月19日 17:57</time></a> </div>
</footer>
<div class="comment-content">
<p><a href="#comment-293161" rel="nofollow">@test </a><br/>
*curr = entry -&gt; next;<br/>
等价于<br/>
prev-&gt;next = entry -&gt; next;</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1907714#respond" data-commentid="1907714" data-postid="8990" data-belowelement="div-comment-1907714" data-respondelement="respond" data-replyto="回复给刚子" aria-label="回复给刚子">回复</a></div> </article>
</li>
<li id="comment-1908716" class="comment odd alt thread-even depth-1">
<article id="div-comment-1908716" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/08fde63d6e4df2328bd998ca23959855?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/08fde63d6e4df2328bd998ca23959855?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">zddav</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-1908716"><time datetime="2016-12-25T18:23:18+08:00">2016年12月25日 18:23</time></a> </div>
</footer>
<div class="comment-content">
<p>这不需要返回链表吗？如果删掉表头，表头应该需要传出去的</p>
<pre data-enlighter-language="c" class="EnlighterJSRAW">void remove_if(node ** head, remove_fn rm)
{
    for (node** curr = head; *curr; )
    {
        node * entry = *curr;
        if (rm(entry))
        {
            *curr = entry-&amp;gt;next;
            free(entry);
        }
        else
            curr = &amp;amp;entry-&amp;gt;next;
    }
}</pre>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=1908716#respond" data-commentid="1908716" data-postid="8990" data-belowelement="div-comment-1908716" data-respondelement="respond" data-replyto="回复给zddav" aria-label="回复给zddav">回复</a></div> </article>
</li>
<li id="comment-1914003" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="http://www.codingblog.cn/blog/50414.html" class="url" rel="ugc external nofollow">二级指针实现单链表的插入、删除及 linux内核源码双向链表之奇技 &#8211; CodingBlog</a> </div>
</li>
<li id="comment-2061090" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="https://coolshell.me/articles/399.html" class="url" rel="ugc external nofollow">2013年个人微博推荐技术资料汇总 | 3F Blog 2020</a> </div>
</li>
<li id="comment-2061998" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://coolshell.me/articles/390.html" class="url" rel="ugc external nofollow">LINUS：利用二级指针删除单向链表 | 3F Blog 2020</a> </div>
</li>
<li id="comment-2064646" class="pingback odd alt thread-even depth-1">
<div class="comment-body">
Pingback： <a href="https://coolshell.me/articles/yearly-tech-materials-summary.html" class="url" rel="ugc external nofollow">2013年个人微博推荐技术资料汇总 | 3F Coolshell Blog</a> </div>
</li>
<li id="comment-2333258" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://itpcb.com/a/1680725" class="url" rel="ugc external nofollow">二级指针实现单链表的插入、删除及 linux内核源码双向链表之奇技 - 算法网</a> </div>
</li>
<li id="comment-2370260" class="comment odd alt thread-even depth-1">
<article id="div-comment-2370260" class="comment-body">
<footer class="comment-meta">
<div class="comment-author vcard">
<img alt src="https://secure.gravatar.com/avatar/cb407680be0ced223c6af433f49b00f7?s=50&#038;d=mm&#038;r=g" srcset="https://secure.gravatar.com/avatar/cb407680be0ced223c6af433f49b00f7?s=100&#038;d=mm&#038;r=g 2x" class="avatar avatar-50 photo" height="50" width="50" loading="lazy" decoding="async" /> <b class="fn">owen</b><span class="says">说道：</span> </div>
<div class="comment-metadata">
<a href="/articles/8990.html/comment-page-4#comment-2370260"><time datetime="2022-03-14T13:52:31+08:00">2022年03月14日 13:52</time></a> </div>
</footer>
<div class="comment-content">
<p>这个二级指针 不就是一个 哑结点么，这有啥的。</p>
</div>
<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/articles/8990.html/comment-page-4?replytocom=2370260#respond" data-commentid="2370260" data-postid="8990" data-belowelement="div-comment-2370260" data-respondelement="respond" data-replyto="回复给owen" aria-label="回复给owen">回复</a></div> </article>
</li>
<li id="comment-2371072" class="pingback even thread-odd thread-alt depth-1">
<div class="comment-body">
Pingback： <a href="https://www.ccppcoding.com/archives/107275" class="url" rel="ugc external nofollow">在不带头结点的单链表中删除特定元素 | 高性能架构探索</a> </div>
</li>
</ol>
<nav class="navigation comment-navigation" role="navigation">
<h2 class="screen-reader-text">Comment navigation</h2>
<div class="nav-links">
<div id="commentnavi">
<span class="pages"><i class="fa fa-comments"></i> 评论分页</span>
<div id="commentpager">
<a class="prev page-numbers" href="/articles/8990.html/comment-page-3#comments">&laquo; 上一页</a>
<a class="page-numbers" href="/articles/8990.html/comment-page-1#comments">1</a>
<a class="page-numbers" href="/articles/8990.html/comment-page-2#comments">2</a>
<a class="page-numbers" href="/articles/8990.html/comment-page-3#comments">3</a>
<span aria-current="page" class="page-numbers current">4</span> <span id="cp_post_id">8990</span>
</div>
<div class="fixed"></div>
</div>
</div>
</nav>
<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">发表回复 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/articles/8990.html#respond" style="display:none;">取消回复</a></small></h3><form action="https://coolshell.cn/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">您的电子邮箱地址不会被公开。</span> <span class="required-field-message">必填项已用<span class="required">*</span>标注</span></p><p class="comment-form-comment"><label for="comment">评论 <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p><p class="comment-form-author"><label for="author">显示名称 <span class="required">*</span></label> <input id="author" name="author" type="text" value size="30" maxlength="245" autocomplete="name" required /></p>
<p class="comment-form-email"><label for="email">电子邮箱地址 <span class="required">*</span></label> <input id="email" name="email" type="email" value size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required /></p>
<p class="comment-form-url"><label for="url">网站地址</label> <input id="url" name="url" type="url" value size="30" maxlength="200" autocomplete="url" /></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="发表评论" /> <input type="hidden" name="comment_post_ID" value="8990" id="comment_post_ID" />
<input type="hidden" name="comment_parent" id="comment_parent" value="0" />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="3fcbb1a28c" /></p><p style="display: none !important;"><label>&#916;<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="31" /><script type="5f1174d32b2de811aceb048f-text/javascript">document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script></p></form> </div>
</div>
</div>
</div>
<div id="secondary" class="col-md-3 hidden-sm hidden-xs sidebar widget-area" role="complementary">
<aside id="search-9" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://coolshell.cn/">
<label>
<span class="screen-reader-text">Search for:</span>
<input type="search" class="search-field" placeholder="Search &hellip;" value name="s" title="Search for:" />
</label>
<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h4 class="widget-title">本站公告</h4><div class="textwidget custom-html-widget"><p align="center"><a class="twitter" href="https://twitter.com/haoel" target="_blank" rel="noopener"> Twitter @haoel </a></p>

<p align="center">极客时间专栏<br><a href="http://gk.link/a/10sBp" target="_blank" rel="noopener"><img src="/wp-content/uploads/2021/06/8311623409583_.pic_hd-1024x1024.jpg" height="200" weight="200" alt="极客时间专栏" title="极客时间专栏"></a></p>

</div></aside>
<aside id="recent-posts-4" class="widget widget_recent_entries">
<h4 class="widget-title">最新文章</h4>
<ul>
<li>
<a href="/articles/22422.html">是微服务架构不香还是云不香？</a>
</li>
<li>
<a href="/articles/22398.html">我看ChatGPT: 为啥谷歌掉了千亿美金</a>
</li>
<li>
<a href="/articles/22367.html">聊聊 nostr 和 审查</a>
</li>
<li>
<a href="/articles/22341.html">感染新冠的经历</a>
</li>
<li>
<a href="/articles/22320.html">eBPF 介绍</a>
</li>
<li>
<a href="/articles/22298.html">聊聊团队协同和协同工具</a>
</li>
<li>
<a href="/articles/22263.html">从一次经历谈 TIME_WAIT 的那些事</a>
</li>
<li>
<a href="/articles/22242.html">ETCD的内存问题</a>
</li>
<li>
<a href="/articles/22173.html">“一把梭：REST API 全用 POST”</a>
</li>
<li>
<a href="/articles/22157.html">谈谈公司对员工的监控</a>
</li>
<li>
<a href="/articles/21708.html">网络数字身份认证术</a>
</li>
<li>
<a href="/articles/21672.html">我做系统架构的一些原则</a>
</li>
<li>
<a href="/articles/21649.html">源代码特洛伊木马攻击</a>
</li>
<li>
<a href="/articles/21615.html">Go编程模式 ： 泛型编程</a>
</li>
<li>
<a href="/articles/21589.html">如何做一个有质量的技术分享</a>
</li>
<li>
<a href="/articles/21263.html">Go 编程模式：k8s Visitor 模式</a>
</li>
<li>
<a href="/articles/21228.html">Go编程模式：Pipeline</a>
</li>
<li>
<a href="/articles/21214.html">Go编程模式：委托和反转控制</a>
</li>
<li>
<a href="/articles/21179.html">Go 编程模式：Go Generation</a>
</li>
<li>
<a href="/articles/21164.html">Go编程模式：Map-Reduce</a>
</li>
<li>
<a href="/articles/21146.html">Go 编程模式：Functional Options</a>
</li>
<li>
<a href="/articles/21140.html">Go 编程模式：错误处理</a>
</li>
<li>
<a href="/articles/21128.html">Go编程模式：切片，接口，时间和性能</a>
</li>
<li>
<a href="/articles/21113.html">百度为什么掉队了</a>
</li>
<li>
<a href="/articles/20977.html">程序员如何把控自己的职业</a>
</li>
<li>
<a href="/articles/21003.html">计时攻击 Timing Attacks</a>
</li>
<li>
<a href="/articles/20845.html">Rust语言的编程范式</a>
</li>
<li>
<a href="/articles/20793.html">与程序员相关的CPU缓存知识</a>
</li>
<li>
<a href="/articles/20765.html">MegaEase的远程工作文化</a>
</li>
<li>
<a href="/articles/20533.html">使用简单的逻辑方法进行独立思考</a>
</li>
</ul>
</aside><aside id="views-6" class="widget widget_views"><h4 class="widget-title">全站热门</h4><ul>
<li><a href="/articles/4990.html" title="程序员技术练级攻略 - 10,239,381 人阅读">程序员技术练级攻略</a></li><li><a href="/articles/3961.html" title="&ldquo;火柴棍式&rdquo;程序员面试题 - 2,356,393 人阅读">&ldquo;火柴棍式&rdquo;程序员面试题</a></li><li><a href="/articles/5426.html" title="简明 Vim 练级攻略 - 1,325,339 人阅读">简明 Vim 练级攻略</a></li><li><a href="/articles/9308.html" title="&ldquo;作环保的程序员，从不用百度开始&rdquo; - 589,355 人阅读">&ldquo;作环保的程序员，从不用百度开始&rdquo;</a></li><li><a href="/articles/11564.html" title="TCP 的那些事儿（上） - 488,727 人阅读">TCP 的那些事儿（上）</a></li><li><a href="/articles/9070.html" title="AWK 简明教程 - 453,319 人阅读">AWK 简明教程</a></li><li><a href="/articles/7186.html" title="做个环保主义的程序员 - 447,307 人阅读">做个环保主义的程序员</a></li><li><a href="/articles/10688.html" title="编程能力与编程年龄 - 416,722 人阅读">编程能力与编程年龄</a></li><li><a href="/articles/10590.html" title="二维码的生成细节和原理 - 393,833 人阅读">二维码的生成细节和原理</a></li><li><a href="/articles/9104.html" title="sed 简明教程 - 380,315 人阅读">sed 简明教程</a></li><li><a href="/articles/4102.html" title="如何学好C语言 - 368,395 人阅读">如何学好C语言</a></li><li><a href="/articles/19464.html" title="如何超过大多数人 - 314,151 人阅读">如何超过大多数人</a></li><li><a href="/articles/17583.html" title="技术人员的发展之路 - 308,373 人阅读">技术人员的发展之路</a></li><li><a href="/articles/9606.html" title="疫苗：Java HashMap的死循环 - 305,431 人阅读">疫苗：Java HashMap的死循环</a></li><li><a href="/articles/6470.html" title="由12306.cn谈谈网站性能技术 - 298,938 人阅读">由12306.cn谈谈网站性能技术</a></li><li><a href="/articles/8883.html" title="应该知道的Linux技巧 - 296,786 人阅读">应该知道的Linux技巧</a></li><li><a href="/articles/17416.html" title="缓存更新的套路 - 293,607 人阅读">缓存更新的套路</a></li><li><a href="/articles/10910.html" title="分布式系统的事务处理 - 284,611 人阅读">分布式系统的事务处理</a></li><li><a href="/articles/11609.html" title="TCP 的那些事儿（下） - 284,359 人阅读">TCP 的那些事儿（下）</a></li><li><a href="/articles/2250.html" title="&ldquo;21天教你学会C++&rdquo; - 278,597 人阅读">&ldquo;21天教你学会C++&rdquo;</a></li><li><a href="/articles/8239.html" title="无锁队列的实现 - 274,280 人阅读">无锁队列的实现</a></li><li><a href="/articles/20276.html" title="别让自己&ldquo;墙&rdquo;了自己 - 271,264 人阅读">别让自己&ldquo;墙&rdquo;了自己</a></li><li><a href="/articles/10739.html" title="Lua简明教程 - 269,333 人阅读">Lua简明教程</a></li><li><a href="/articles/7490.html" title="性能调优攻略 - 257,249 人阅读">性能调优攻略</a></li><li><a href="/articles/1846.html" title="MySQL性能优化的最佳20+条经验 - 255,746 人阅读">MySQL性能优化的最佳20+条经验</a></li><li><a href="/articles/4758.html" title="如何写出无法维护的代码 - 254,093 人阅读">如何写出无法维护的代码</a></li><li><a href="/articles/914.html" title="6个变态的C语言Hello World程序 - 251,862 人阅读">6个变态的C语言Hello World程序</a></li><li><a href="/articles/17010.html" title="Docker基础技术：Linux Namespace（上） - 241,781 人阅读">Docker基础技术：Linux Namespace（上）</a></li><li><a href="/articles/7829.html" title="28个Unix/Linux的命令行神器 - 241,198 人阅读">28个Unix/Linux的命令行神器</a></li><li><a href="/articles/11312.html" title="无插件Vim编程技巧 - 222,788 人阅读">无插件Vim编程技巧</a></li></ul>
</aside><aside id="categories-367921425" class="widget widget_categories"><h4 class="widget-title">分类</h4>
<ul>
<li class="cat-item cat-item-195"><a href="/category/itnews">业界新闻</a> (33)
</li>
<li class="cat-item cat-item-509"><a href="/category/%e4%bc%81%e4%b8%9a%e5%ba%94%e7%94%a8">企业应用</a> (2)
</li>
<li class="cat-item cat-item-9"><a href="/category/technews">技术新闻</a> (38)
</li>
<li class="cat-item cat-item-550"><a href="/category/%e6%8a%80%e6%9c%af%e7%ae%a1%e7%90%86">技术管理</a> (19)
</li>
<li class="cat-item cat-item-12"><a href="/category/techarticle">技术读物</a> (125)
</li>
<li class="cat-item cat-item-18"><a href="/category/operatingsystem">操作系统</a> (97)
<ul class="children">
<li class="cat-item cat-item-20"><a href="/category/operatingsystem/unixlinux">Unix/Linux</a> (81)
</li>
<li class="cat-item cat-item-19"><a href="/category/operatingsystem/mswindows">Windows</a> (12)
</li>
</ul>
</li>
<li class="cat-item cat-item-105"><a href="/category/datebase">数据库</a> (11)
</li>
<li class="cat-item cat-item-10"><a href="/category/misc">杂项资源</a> (295)
</li>
<li class="cat-item cat-item-15"><a href="/category/process">流程方法</a> (48)
</li>
<li class="cat-item cat-item-23"><a href="/category/progdesign">程序设计</a> (110)
</li>
<li class="cat-item cat-item-602"><a href="/category/%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84">系统架构</a> (15)
</li>
<li class="cat-item cat-item-1"><a href="/category/tools">编程工具</a> (67)
</li>
<li class="cat-item cat-item-3"><a href="/category/proglanguage">编程语言</a> (326)
<ul class="children">
<li class="cat-item cat-item-189"><a href="/category/proglanguage/dotnet">.NET编程</a> (3)
</li>
<li class="cat-item cat-item-8"><a href="/category/proglanguage/ajaxdev">Ajax开发</a> (9)
</li>
<li class="cat-item cat-item-5"><a href="/category/proglanguage/cplusplus">C/C++语言</a> (74)
</li>
<li class="cat-item cat-item-186"><a href="/category/proglanguage/erlang">Erlang</a> (1)
</li>
<li class="cat-item cat-item-819"><a href="/category/proglanguage/go-%e8%af%ad%e8%a8%80">Go 语言</a> (15)
</li>
<li class="cat-item cat-item-4"><a href="/category/proglanguage/javadev">Java语言</a> (32)
</li>
<li class="cat-item cat-item-11"><a href="/category/proglanguage/phpdev">PHP脚本</a> (11)
</li>
<li class="cat-item cat-item-33"><a href="/category/proglanguage/pythondev">Python</a> (23)
</li>
<li class="cat-item cat-item-100"><a href="/category/proglanguage/rubydev">Ruby</a> (5)
</li>
<li class="cat-item cat-item-860"><a href="/category/proglanguage/rust-%e8%af%ad%e8%a8%80">Rust 语言</a> (1)
</li>
<li class="cat-item cat-item-7"><a href="/category/proglanguage/webdev">Web开发</a> (106)
</li>
</ul>
</li>
<li class="cat-item cat-item-6"><a href="/category/netsecurity">网络安全</a> (36)
</li>
<li class="cat-item cat-item-39"><a href="/category/career">职场生涯</a> (40)
</li>
<li class="cat-item cat-item-271"><a href="/category/funny">趣味问题</a> (19)
</li>
<li class="cat-item cat-item-52"><a href="/category/story">轶事趣闻</a> (147)
</li>
</ul>
</aside><aside id="tag_cloud-4" class="widget widget_tag_cloud"><h4 class="widget-title">标签</h4><div class="tagcloud"><a href="https://coolshell.cn/tag/agile" class="tag-cloud-link tag-link-17 tag-link-position-1" style="font-size: 11.559322033898pt;" aria-label="agile (15个项目)">agile</a>
<a href="https://coolshell.cn/tag/ajax" class="tag-cloud-link tag-link-34 tag-link-position-2" style="font-size: 10.135593220339pt;" aria-label="AJAX (11个项目)">AJAX</a>
<a href="https://coolshell.cn/tag/algorithm" class="tag-cloud-link tag-link-76 tag-link-position-3" style="font-size: 14.28813559322pt;" aria-label="Algorithm (26个项目)">Algorithm</a>
<a href="https://coolshell.cn/tag/android" class="tag-cloud-link tag-link-145 tag-link-position-4" style="font-size: 10.135593220339pt;" aria-label="Android (11个项目)">Android</a>
<a href="https://coolshell.cn/tag/bash" class="tag-cloud-link tag-link-190 tag-link-position-5" style="font-size: 9.1864406779661pt;" aria-label="Bash (9个项目)">Bash</a>
<a href="https://coolshell.cn/tag/c" class="tag-cloud-link tag-link-59 tag-link-position-6" style="font-size: 20.694915254237pt;" aria-label="C++ (93个项目)">C++</a>
<a href="https://coolshell.cn/tag/coding" class="tag-cloud-link tag-link-135 tag-link-position-7" style="font-size: 14.28813559322pt;" aria-label="Coding (26个项目)">Coding</a>
<a href="https://coolshell.cn/tag/css" class="tag-cloud-link tag-link-96 tag-link-position-8" style="font-size: 13.457627118644pt;" aria-label="CSS (22个项目)">CSS</a>
<a href="https://coolshell.cn/tag/design" class="tag-cloud-link tag-link-71 tag-link-position-9" style="font-size: 13.932203389831pt;" aria-label="Design (24个项目)">Design</a>
<a href="https://coolshell.cn/tag/design-pattern" class="tag-cloud-link tag-link-25 tag-link-position-10" style="font-size: 9.6610169491525pt;" aria-label="design pattern (10个项目)">design pattern</a>
<a href="https://coolshell.cn/tag/ebook" class="tag-cloud-link tag-link-101 tag-link-position-11" style="font-size: 11.559322033898pt;" aria-label="ebook (15个项目)">ebook</a>
<a href="https://coolshell.cn/tag/flash" class="tag-cloud-link tag-link-98 tag-link-position-12" style="font-size: 8pt;" aria-label="Flash (7个项目)">Flash</a>
<a href="https://coolshell.cn/tag/game" class="tag-cloud-link tag-link-125 tag-link-position-13" style="font-size: 9.1864406779661pt;" aria-label="Game (9个项目)">Game</a>
<a href="https://coolshell.cn/tag/go" class="tag-cloud-link tag-link-238 tag-link-position-14" style="font-size: 13.220338983051pt;" aria-label="Go (21个项目)">Go</a>
<a href="https://coolshell.cn/tag/golang" class="tag-cloud-link tag-link-237 tag-link-position-15" style="font-size: 10.966101694915pt;" aria-label="golang (13个项目)">golang</a>
<a href="https://coolshell.cn/tag/google" class="tag-cloud-link tag-link-32 tag-link-position-16" style="font-size: 15.474576271186pt;" aria-label="Google (33个项目)">Google</a>
<a href="https://coolshell.cn/tag/html" class="tag-cloud-link tag-link-38 tag-link-position-17" style="font-size: 15.593220338983pt;" aria-label="HTML (34个项目)">HTML</a>
<a href="https://coolshell.cn/tag/ie" class="tag-cloud-link tag-link-175 tag-link-position-18" style="font-size: 9.6610169491525pt;" aria-label="IE (10个项目)">IE</a>
<a href="https://coolshell.cn/tag/java" class="tag-cloud-link tag-link-13 tag-link-position-19" style="font-size: 17.610169491525pt;" aria-label="Java (50个项目)">Java</a>
<a href="https://coolshell.cn/tag/javascript" class="tag-cloud-link tag-link-114 tag-link-position-20" style="font-size: 17.966101694915pt;" aria-label="Javascript (54个项目)">Javascript</a>
<a href="https://coolshell.cn/tag/jquery" class="tag-cloud-link tag-link-191 tag-link-position-21" style="font-size: 10.135593220339pt;" aria-label="jQuery (11个项目)">jQuery</a>
<a href="https://coolshell.cn/tag/linux" class="tag-cloud-link tag-link-37 tag-link-position-22" style="font-size: 19.389830508475pt;" aria-label="Linux (71个项目)">Linux</a>
<a href="https://coolshell.cn/tag/mysql" class="tag-cloud-link tag-link-106 tag-link-position-23" style="font-size: 8pt;" aria-label="MySQL (7个项目)">MySQL</a>
<a href="https://coolshell.cn/tag/oop" class="tag-cloud-link tag-link-245 tag-link-position-24" style="font-size: 8.5932203389831pt;" aria-label="OOP (8个项目)">OOP</a>
<a href="https://coolshell.cn/tag/password" class="tag-cloud-link tag-link-319 tag-link-position-25" style="font-size: 8.5932203389831pt;" aria-label="password (8个项目)">password</a>
<a href="https://coolshell.cn/tag/performance" class="tag-cloud-link tag-link-120 tag-link-position-26" style="font-size: 12.271186440678pt;" aria-label="Performance (17个项目)">Performance</a>
<a href="https://coolshell.cn/tag/php" class="tag-cloud-link tag-link-35 tag-link-position-27" style="font-size: 14.050847457627pt;" aria-label="PHP (25个项目)">PHP</a>
<a href="https://coolshell.cn/tag/programmer" class="tag-cloud-link tag-link-70 tag-link-position-28" style="font-size: 21.881355932203pt;" aria-label="Programmer (116个项目)">Programmer</a>
<a href="https://coolshell.cn/tag/programming" class="tag-cloud-link tag-link-499 tag-link-position-29" style="font-size: 10.135593220339pt;" aria-label="Programming (11个项目)">Programming</a>
<a href="https://coolshell.cn/tag/programming-language" class="tag-cloud-link tag-link-115 tag-link-position-30" style="font-size: 10.491525423729pt;" aria-label="programming language (12个项目)">programming language</a>
<a href="https://coolshell.cn/tag/puzzle" class="tag-cloud-link tag-link-514 tag-link-position-31" style="font-size: 10.135593220339pt;" aria-label="Puzzle (11个项目)">Puzzle</a>
<a href="https://coolshell.cn/tag/pythondev" class="tag-cloud-link tag-link-791 tag-link-position-32" style="font-size: 15pt;" aria-label="Python (30个项目)">Python</a>
<a href="https://coolshell.cn/tag/ruby" class="tag-cloud-link tag-link-69 tag-link-position-33" style="font-size: 9.6610169491525pt;" aria-label="Ruby (10个项目)">Ruby</a>
<a href="https://coolshell.cn/tag/sql" class="tag-cloud-link tag-link-131 tag-link-position-34" style="font-size: 9.6610169491525pt;" aria-label="SQL (10个项目)">SQL</a>
<a href="https://coolshell.cn/tag/tdd" class="tag-cloud-link tag-link-485 tag-link-position-35" style="font-size: 8.5932203389831pt;" aria-label="TDD (8个项目)">TDD</a>
<a href="https://coolshell.cn/tag/ui" class="tag-cloud-link tag-link-47 tag-link-position-36" style="font-size: 10.491525423729pt;" aria-label="UI (12个项目)">UI</a>
<a href="https://coolshell.cn/tag/unix" class="tag-cloud-link tag-link-21 tag-link-position-37" style="font-size: 15.949152542373pt;" aria-label="Unix (36个项目)">Unix</a>
<a href="https://coolshell.cn/tag/vim" class="tag-cloud-link tag-link-50 tag-link-position-38" style="font-size: 12.745762711864pt;" aria-label="vim (19个项目)">vim</a>
<a href="https://coolshell.cn/tag/web" class="tag-cloud-link tag-link-30 tag-link-position-39" style="font-size: 16.661016949153pt;" aria-label="Web (42个项目)">Web</a>
<a href="https://coolshell.cn/tag/windows" class="tag-cloud-link tag-link-49 tag-link-position-40" style="font-size: 12.271186440678pt;" aria-label="Windows (17个项目)">Windows</a>
<a href="https://coolshell.cn/tag/xml" class="tag-cloud-link tag-link-104 tag-link-position-41" style="font-size: 8.5932203389831pt;" aria-label="XML (8个项目)">XML</a>
<a href="https://coolshell.cn/tag/%e5%ae%89%e5%85%a8" class="tag-cloud-link tag-link-318 tag-link-position-42" style="font-size: 13.694915254237pt;" aria-label="安全 (23个项目)">安全</a>
<a href="https://coolshell.cn/tag/%e7%a8%8b%e5%ba%8f%e5%91%98" class="tag-cloud-link tag-link-58 tag-link-position-43" style="font-size: 22pt;" aria-label="程序员 (119个项目)">程序员</a>
<a href="https://coolshell.cn/tag/%e7%ae%97%e6%b3%95" class="tag-cloud-link tag-link-77 tag-link-position-44" style="font-size: 9.6610169491525pt;" aria-label="算法 (10个项目)">算法</a>
<a href="https://coolshell.cn/tag/interview" class="tag-cloud-link tag-link-164 tag-link-position-45" style="font-size: 11.915254237288pt;" aria-label="面试 (16个项目)">面试</a></div>
</aside><aside id="archives-5" class="widget widget_archive"><h4 class="widget-title">归档</h4>
<ul>
<li><a href="/articles/date/2023/05">2023年5月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2023/02">2023年2月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2022/12">2022年12月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2022/10">2022年10月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2022/07">2022年7月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2022/05">2022年5月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2022/02">2022年2月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2022/01">2022年1月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2021/12">2021年12月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2021/11">2021年11月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2021/09">2021年9月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2021/07">2021年7月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2020/12">2020年12月</a>&nbsp;(9)</li>
<li><a href="/articles/date/2020/08">2020年8月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2020/07">2020年7月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2020/04">2020年4月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2020/03">2020年3月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2020/01">2020年1月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/12">2019年12月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2019/11">2019年11月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/10">2019年10月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/07">2019年7月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/06">2019年6月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/05">2019年5月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/04">2019年4月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2019/03">2019年3月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2019/02">2019年2月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2018/12">2018年12月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2018/05">2018年5月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2018/01">2018年1月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/10">2017年10月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/09">2017年9月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/08">2017年8月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/07">2017年7月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2017/06">2017年6月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/04">2017年4月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/03">2017年3月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/02">2017年2月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2017/01">2017年1月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2016/12">2016年12月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2016/10">2016年10月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2016/09">2016年9月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2016/08">2016年8月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2016/07">2016年7月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2015/12">2015年12月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2015/09">2015年9月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2015/08">2015年8月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2015/04">2015年4月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2014/12">2014年12月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2014/11">2014年11月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2014/10">2014年10月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2014/09">2014年9月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2014/08">2014年8月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2014/06">2014年6月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2014/05">2014年5月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2014/04">2014年4月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2014/03">2014年3月</a>&nbsp;(5)</li>
<li><a href="/articles/date/2014/02">2014年2月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2014/01">2014年1月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2013/12">2013年12月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2013/11">2013年11月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2013/10">2013年10月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2013/08">2013年8月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2013/07">2013年7月</a>&nbsp;(8)</li>
<li><a href="/articles/date/2013/06">2013年6月</a>&nbsp;(2)</li>
<li><a href="/articles/date/2013/05">2013年5月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2013/04">2013年4月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2013/03">2013年3月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2013/02">2013年2月</a>&nbsp;(5)</li>
<li><a href="/articles/date/2013/01">2013年1月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2012/12">2012年12月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2012/11">2012年11月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2012/10">2012年10月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2012/09">2012年9月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2012/08">2012年8月</a>&nbsp;(8)</li>
<li><a href="/articles/date/2012/07">2012年7月</a>&nbsp;(4)</li>
<li><a href="/articles/date/2012/06">2012年6月</a>&nbsp;(7)</li>
<li><a href="/articles/date/2012/05">2012年5月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2012/04">2012年4月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2012/03">2012年3月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2012/02">2012年2月</a>&nbsp;(3)</li>
<li><a href="/articles/date/2012/01">2012年1月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2011/12">2011年12月</a>&nbsp;(5)</li>
<li><a href="/articles/date/2011/11">2011年11月</a>&nbsp;(9)</li>
<li><a href="/articles/date/2011/10">2011年10月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2011/09">2011年9月</a>&nbsp;(5)</li>
<li><a href="/articles/date/2011/08">2011年8月</a>&nbsp;(14)</li>
<li><a href="/articles/date/2011/07">2011年7月</a>&nbsp;(6)</li>
<li><a href="/articles/date/2011/06">2011年6月</a>&nbsp;(12)</li>
<li><a href="/articles/date/2011/05">2011年5月</a>&nbsp;(5)</li>
<li><a href="/articles/date/2011/04">2011年4月</a>&nbsp;(18)</li>
<li><a href="/articles/date/2011/03">2011年3月</a>&nbsp;(16)</li>
<li><a href="/articles/date/2011/02">2011年2月</a>&nbsp;(16)</li>
<li><a href="/articles/date/2011/01">2011年1月</a>&nbsp;(18)</li>
<li><a href="/articles/date/2010/12">2010年12月</a>&nbsp;(11)</li>
<li><a href="/articles/date/2010/11">2010年11月</a>&nbsp;(11)</li>
<li><a href="/articles/date/2010/10">2010年10月</a>&nbsp;(19)</li>
<li><a href="/articles/date/2010/09">2010年9月</a>&nbsp;(15)</li>
<li><a href="/articles/date/2010/08">2010年8月</a>&nbsp;(10)</li>
<li><a href="/articles/date/2010/07">2010年7月</a>&nbsp;(20)</li>
<li><a href="/articles/date/2010/06">2010年6月</a>&nbsp;(9)</li>
<li><a href="/articles/date/2010/05">2010年5月</a>&nbsp;(13)</li>
<li><a href="/articles/date/2010/04">2010年4月</a>&nbsp;(12)</li>
<li><a href="/articles/date/2010/03">2010年3月</a>&nbsp;(11)</li>
<li><a href="/articles/date/2010/02">2010年2月</a>&nbsp;(7)</li>
<li><a href="/articles/date/2010/01">2010年1月</a>&nbsp;(9)</li>
<li><a href="/articles/date/2009/12">2009年12月</a>&nbsp;(22)</li>
<li><a href="/articles/date/2009/11">2009年11月</a>&nbsp;(27)</li>
<li><a href="/articles/date/2009/10">2009年10月</a>&nbsp;(17)</li>
<li><a href="/articles/date/2009/09">2009年9月</a>&nbsp;(14)</li>
<li><a href="/articles/date/2009/08">2009年8月</a>&nbsp;(21)</li>
<li><a href="/articles/date/2009/07">2009年7月</a>&nbsp;(18)</li>
<li><a href="/articles/date/2009/06">2009年6月</a>&nbsp;(19)</li>
<li><a href="/articles/date/2009/05">2009年5月</a>&nbsp;(27)</li>
<li><a href="/articles/date/2009/04">2009年4月</a>&nbsp;(53)</li>
<li><a href="/articles/date/2009/03">2009年3月</a>&nbsp;(43)</li>
<li><a href="/articles/date/2008/10">2008年10月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2007/12">2007年12月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2006/11">2006年11月</a>&nbsp;(1)</li>
<li><a href="/articles/date/2004/06">2004年6月</a>&nbsp;(1)</li>
</ul>
</aside><aside id="custom_html-8" class="widget_text widget widget_custom_html"><h4 class="widget-title">友情链接</h4><div class="textwidget custom-html-widget"><ul class="blogroll">
<li><a href="http://blog.csdn.net/haoel" target="_blank" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/blog.csdn.net/haoel?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->陈皓的博客</a></li>
<li><a href="http://ifeve.com/" target="_blank" title="促进并发编程的研究和推广" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/ifeve.com/?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->并发编程</a></li>
<li><a href="http://www.raychase.net/" target="_blank" title="一个啰嗦的程序员" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/www.raychase.net/?referer=http://coolshell.cn');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->四火的唠叨</a></li>
<li><a href="http://www.cnblogs.com/weidagang2046/" target="_blank" title="Just for Fun" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://www.cnblogs.com/weidagang2046/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->Todd Wei的Blog</a></li>
<li><a href="http://www.hellogcc.org/" target="_blank" title="致力于讨论和学习GNU Toolchain方面的工作组" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/www.hellogcc.org//?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->开源开发工具技术博客</a></li>
<li><a href="http://www.cppfans.org/" target="_blank" title="记录我们点滴学习工作生活" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://www.cppfans.org/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->C++爱好者博客</a></li>
<li><a href="https://HelloACM.com/" target="_blank" title="Smart Ideas, Smart Algorithms" onclick="if (!window.__cfRLUnblockHandlers) return false; pageTracker._trackPageview('/outgoing/http://HelloACM.com/?referer=http://coolshell.cn/');" rel="noopener" data-cf-modified-5f1174d32b2de811aceb048f->ACMer</a></li>
</ul>
</div></aside><aside id="meta-5" class="widget widget_meta"><h4 class="widget-title">其他操作</h4>
<ul>
<li><a href="https://coolshell.cn/wp-login.php?action=register">注册</a></li> <li><a href="https://coolshell.cn/wp-login.php">登录</a></li>
<li><a href="https://coolshell.cn/feed">条目feed</a></li>
<li><a href="https://coolshell.cn/comments/feed">评论feed</a></li>
<li><a href="https://cn.wordpress.org/">WordPress.org</a></li>
</ul>
</aside></div>
</div> 
</div>
<script type="5f1174d32b2de811aceb048f-text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-7486123-1']);
_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</div>
<footer id="colophon" class="site-footer" role="contentinfo">
<div class="row site-info">
CoolShell.cn &copy; 2023
<span class="sep"> | </span>
Powered by <a href="https://wordpress.org/">WordPress</a>
<span class="sep"> | </span>
Based on Theme: Nisarg by <a href="http://www.falgunidesai.com/" rel="designer">Falguni Desai</a>.
<p><a href="http://www.beian.miit.gov.cn" target="_target">京ICP备18054967号-1</a></p>
</div>
</footer>
</div>
<script type="5f1174d32b2de811aceb048f-text/javascript" id="wp-postratings-js-extra">
/* <![CDATA[ */
var ratingsL10n = {"plugin_url":"https:\/\/coolshell.cn\/wp-content\/plugins\/wp-postratings","ajax_url":"https:\/\/coolshell.cn\/wp-admin\/admin-ajax.php","text_wait":"Please rate only 1 item at a time.","image":"stars_crystal","image_ext":"gif","max":"5","show_loading":"1","show_fading":"1","custom":"0"};
var ratings_mouseover_image=new Image();ratings_mouseover_image.src="/wp-content/plugins/wp-postratings/images/stars_crystal/rating_over.gif";;
/* ]]> */
</script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/wp-postratings/js/postratings-js.js?ver=1.90.1" id="wp-postratings-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" id="wp-postviews-cache-js-extra">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"https:\/\/coolshell.cn\/wp-admin\/admin-ajax.php","nonce":"4731639b7a","post_id":"8990"};
/* ]]> */
</script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68" id="wp-postviews-cache-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/themes/MyNisarg/js/bootstrap.js?ver=6.2" id="bootstrap-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/themes/MyNisarg/js/skip-link-focus-fix.js?ver=20130115" id="nisarg-skip-link-focus-fix-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/themes/MyNisarg/js/nisarg.js?ver=6.2" id="nisarg-js-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-includes/js/comment-reply.min.js?ver=6.2" id="comment-reply-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" id="q2w3_fixed_widget-js-extra">
/* <![CDATA[ */
var q2w3_sidebar_options = [{"use_sticky_position":false,"margin_top":50,"margin_bottom":0,"stop_elements_selectors":"","screen_max_width":0,"screen_max_height":0,"widgets":[]}];
/* ]]> */
</script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/q2w3-fixed-widget/js/frontend.min.js?ver=6.2.3" id="q2w3_fixed_widget-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/enlighter/cache/enlighterjs.min.js?ver=0cuVQBPCj0viGB0" id="enlighterjs-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript" id="enlighterjs-js-after">
!function(e,n){if("undefined"!=typeof EnlighterJS){var o={"selectors":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"options":{"indent":2,"ampersandCleanup":true,"linehover":true,"rawcodeDbclick":true,"textOverflow":"scroll","linenumbers":true,"theme":"wpcustom","language":"generic","retainCssClasses":false,"collapse":false,"toolbarOuter":"","toolbarTop":"{BTN_RAW}{BTN_COPY}{BTN_WINDOW}{BTN_WEBSITE}","toolbarBottom":""}};(e.EnlighterJSINIT=function(){EnlighterJS.init(o.selectors.block,o.selectors.inline,o.options)})()}else{(n&&(n.error||n.log)||function(){})("Error: EnlighterJS resources not loaded yet!")}}(window,console);
</script>
<script defer type="5f1174d32b2de811aceb048f-text/javascript" src="/wp-content/plugins/akismet/_inc/akismet-frontend.js?ver=1683523750" id="akismet-frontend-js"></script>
<script type="5f1174d32b2de811aceb048f-text/javascript">
        jQuery(document).ready(function ($) {

            for (let i = 0; i < document.forms.length; ++i) {
                let form = document.forms[i];
				if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="HLY_NVGfRIyiO" value="A*FRUYw" />'); }
if ($(form).attr("method") != "get") { $(form).append('<input type="hidden" name="rfNmPJFxZlE" value="PcJd0F3kneCMpW" />'); }
            }

            $(document).on('submit', 'form', function () {
				if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="HLY_NVGfRIyiO" value="A*FRUYw" />'); }
if ($(this).attr("method") != "get") { $(this).append('<input type="hidden" name="rfNmPJFxZlE" value="PcJd0F3kneCMpW" />'); }
                return true;
            });

            jQuery.ajaxSetup({
                beforeSend: function (e, data) {

                    if (data.type !== 'POST') return;

                    if (typeof data.data === 'object' && data.data !== null) {
						data.data.append("HLY_NVGfRIyiO", "A*FRUYw");
data.data.append("rfNmPJFxZlE", "PcJd0F3kneCMpW");
                    }
                    else {
                        data.data = data.data + '&HLY_NVGfRIyiO=A*FRUYw&rfNmPJFxZlE=PcJd0F3kneCMpW';
                    }
                }
            });

        });
    </script>
<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="5f1174d32b2de811aceb048f-|49" defer></script></body>
</html>
<script type="5f1174d32b2de811aceb048f-text/javascript" src="https://cdn.jsdelivr.net/gh/haoel/anti-baidu/js/anti-baidu-latest.min.js" charset="UTF-8"></script>




